(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{305:function(o,t,l){"use strict";var s=l(301),e=[{key:"finishPullUp",name:"finishPullUp"},{key:"openPullUp",name:"openPullUp"},{key:"closePullUp",name:"closePullUp"},{key:"autoPullUpLoad",name:"autoPullUpLoad"}].map((function(o){return{key:o.key,sourceKey:"plugins.pullUpLoad."+o.name}})),n=function(){function o(o){this.scroll=o,this.pulling=!1,this.watching=!1,this.init()}return o.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullUpLoad),this.handleHooks(),this.watch()},o.prototype.handleBScroll=function(){this.scroll.registerType(["pullingUp"]),this.scroll.proxy(e)},o.prototype.handleOptions=function(o){void 0===o&&(o={}),o=!0===o?{}:o;this.options=Object(s.r)({threshold:0},o),this.scroll.options.probeType=s.j.Realtime},o.prototype.handleHooks=function(){var o=this;this.hooksFn=[];var t=this.scroll.scroller.scrollBehaviorY;this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,(function(){o.finishPullUp()})),this.registerHooks(t.hooks,t.hooks.eventTypes.computeBoundary,(function(o){o.maxScrollPos>0&&(o.maxScrollPos=-1)}))},o.prototype.registerHooks=function(o,t,l){o.on(t,l,this),this.hooksFn.push([o,t,l])},o.prototype.watch=function(){this.watching||(this.watching=!0,this.registerHooks(this.scroll,this.scroll.eventTypes.scroll,this.checkPullUp))},o.prototype.unwatch=function(){this.watching=!1,this.scroll.off(this.scroll.eventTypes.scroll,this.checkPullUp)},o.prototype.checkPullUp=function(o){var t=this,l=this.options.threshold;this.scroll.movingDirectionY===s.b.Positive&&o.y<=this.scroll.maxScrollY+l&&(this.pulling=!0,this.scroll.once(this.scroll.eventTypes.scrollEnd,(function(){t.pulling=!1})),this.unwatch(),this.scroll.trigger("pullingUp"))},o.prototype.finishPullUp=function(){var o=this;this.scroll.scroller.scrollBehaviorY.setMovingDirection(s.b.Default),this.pulling?this.scroll.once(this.scroll.eventTypes.scrollEnd,(function(){o.watch()})):this.watch()},o.prototype.openPullUp=function(o){void 0===o&&(o={}),this.handleOptions(o),this.watch()},o.prototype.closePullUp=function(){this.unwatch()},o.prototype.autoPullUpLoad=function(){var o=this.options.threshold,t=this.scroll.scroller.scrollBehaviorY;if(!this.pulling&&this.watching){var l=t.maxScrollPos+o+-1;this.scroll.scroller.scrollBehaviorY.setMovingDirection(-1),this.scroll.scrollTo(this.scroll.x,l,this.scroll.options.bounceTime)}},o.pluginName="pullUpLoad",o}();t.a=n},306:function(o,t){o.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},308:function(o,t,l){"use strict";var s=l(301),e=[{key:"finishPullDown",name:"finishPullDown"},{key:"openPullDown",name:"openPullDown"},{key:"closePullDown",name:"closePullDown"},{key:"autoPullDownRefresh",name:"autoPullDownRefresh"}].map((function(o){return{key:o.key,sourceKey:"plugins.pullDownRefresh."+o.name}})),n=function(){function o(o){this.scroll=o,this.pulling=!1,this.init()}return o.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullDownRefresh),this.handleHooks(),this.watch()},o.prototype.handleBScroll=function(){this.scroll.registerType(["pullingDown"]),this.scroll.proxy(e)},o.prototype.handleOptions=function(o){void 0===o&&(o={}),o=!0===o?{}:o;this.options=Object(s.r)({threshold:90,stop:40},o),this.scroll.options.probeType=s.j.Realtime},o.prototype.handleHooks=function(){var o=this;this.hooksFn=[];var t=this.scroll.scroller,l=t.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY=l.minScrollPos,this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,(function(){o.finishPullDown()})),this.registerHooks(l.hooks,l.hooks.eventTypes.computeBoundary,(function(t){t.maxScrollPos>0&&(t.maxScrollPos=-1),t.minScrollPos=o.currentMinScrollY})),this.scroll.eventTypes.alterOptions&&(this.registerHooks(this.scroll,this.scroll.eventTypes.alterOptions,(function(o){o.discreteTime=300,o.easeTime=350})),this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelEnd,(function(){t.hooks.trigger(t.hooks.eventTypes.end)})))},o.prototype.registerHooks=function(o,t,l){o.on(t,l,this),this.hooksFn.push([o,t,l])},o.prototype.watch=function(){var o=this.scroll.scroller;this.watching=!0,this.registerHooks(o.hooks,o.hooks.eventTypes.end,this.checkPullDown)},o.prototype.unwatch=function(){var o=this.scroll.scroller;this.watching=!1,o.hooks.off(o.hooks.eventTypes.end,this.checkPullDown)},o.prototype.checkPullDown=function(){var o=this.options,t=o.threshold,l=o.stop;return!(this.scroll.y<t)&&(this.pulling||(this.modifyBehaviorYBoundary(l),this.pulling=!0,this.scroll.trigger("pullingDown")),this.scroll.scrollTo(this.scroll.x,l,this.scroll.options.bounceTime,s.p.bounce),this.pulling)},o.prototype.modifyBehaviorYBoundary=function(o){var t=this.scroll.scroller.scrollBehaviorY;this.cachedOriginanMinScrollY=t.minScrollPos,this.currentMinScrollY=o,t.computeBoundary()},o.prototype.finishPullDown=function(){if(!0===this.pulling){var o=this.scroll.scroller.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY,o.computeBoundary(),this.pulling=!1,this.scroll.resetPosition(this.scroll.options.bounceTime,s.p.bounce)}},o.prototype.openPullDown=function(o){void 0===o&&(o={}),this.handleOptions(o),this.watching||this.watch()},o.prototype.closePullDown=function(){this.unwatch()},o.prototype.autoPullDownRefresh=function(){var o=this.options,t=o.threshold,l=o.stop;!this.pulling&&this.watching&&(this.pulling=!0,this.modifyBehaviorYBoundary(l),this.scroll.scrollTo(this.scroll.x,t),this.scroll.trigger("pullingDown"),this.scroll.scrollTo(this.scroll.x,l,this.scroll.options.bounceTime,s.p.bounce))},o.pluginName="pullDownRefresh",o}();t.a=n},310:function(o,t,l){var s=l(23),e="["+l(306)+"]",n=RegExp("^"+e+e+"*"),i=RegExp(e+e+"*$"),r=function(o){return function(t){var l=String(s(t));return 1&o&&(l=l.replace(n,"")),2&o&&(l=l.replace(i,"")),l}};o.exports={start:r(1),end:r(2),trim:r(3)}},317:function(o,t,l){var s=l(0),e=l(318);s({global:!0,forced:parseInt!=e},{parseInt:e})},318:function(o,t,l){var s=l(3),e=l(310).trim,n=l(306),i=s.parseInt,r=/^[+-]?0[Xx]/,c=8!==i(n+"08")||22!==i(n+"0x16");o.exports=c?function(o,t){var l=e(String(o));return i(l,t>>>0||(r.test(l)?16:10))}:i},335:function(o,t,l){},403:function(o,t,l){"use strict";var s=l(335);l.n(s).a},540:function(o,t,l){"use strict";l.r(t);l(162),l(7),l(317),l(92);var s=l(42),e=l(302),n=l(308),i=l(305),r=l(307);e.a.use(n.a),e.a.use(i.a),e.a.use(r.a);var c={data:function(){return{beforePullDown:!0,isPullingDown:!1,isPullingUp:!1,dataList:new Array(2),stopPullup:!1}},created:function(){this.bscroll=null},mounted:function(){this.initBscroll()},methods:{initBscroll:function(){this.bscroll=new e.a(this.$refs.bsWrapper,{scrollY:!0,bounceTime:700,momentum:!1,pullDownRefresh:{threshold:50,stop:56},pullUpLoad:{threshold:-50},slide:{threshold:5,disableSetHeight:!0,autoplay:!1,loop:!1}}),this.bscroll.on("pullingDown",this.pullingDownHandler),this.bscroll.on("pullingUp",this.pullingUpHandler),this.bscroll.on("scroll",this.scrollHandler)},scrollHandler:function(o){if(o.y>=0){var t=this.$refs.pulldown,l=getComputedStyle(t,null).height;t.style.transform="translateY(".concat(-parseInt(l)+o.y,"px) translateZ(0)")}var s=this.bscroll.maxScrollY;if(o.y-s<=-30&&this.isPullingUp&&(this.stopPullup=!0),o.y-s<=0&&!this.stopPullup){var e=this.$refs.pullup;getComputedStyle(e,null).height;e.style.transform="translateY(".concat(o.y-s,"px) translateZ(0)")}},pullingDownHandler:function(){var o=this;return Object(s.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.beforePullDown=!1,o.isPullingDown=!0,o.bscroll.enabled=!1,t.next=5,o.requestData("refresh");case 5:o.isPullingDown=!1,o.$nextTick((function(){o.bscroll.finishPullDown(),o.beforePullDown=!0,o.bscroll.enabled=!0,o.bscroll.refresh()}));case 7:case"end":return t.stop()}}),t)})))()},pullingUpHandler:function(){var o=this;return Object(s.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.isPullingUp=!0,o.bscroll.enabled=!1,t.next=4,o.requestData("load");case 4:o.$nextTick((function(){o.isPullingUp=!1,o.bscroll.finishPullUp(),o.bscroll.enabled=!0,o.bscroll.refresh(),o.resetPullupPos()}));case 5:case"end":return t.stop()}}),t)})))()},requestData:function(o){var t=this;return Object(s.a)(regeneratorRuntime.mark((function l(){var s;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,t.ajaxGet();case 3:s=l.sent,t.dataList="load"===o?s.concat(t.dataList):s,l.next=10;break;case 7:l.prev=7,l.t0=l.catch(0),console.log(l.t0);case 10:case"end":return l.stop()}}),l,null,[[0,7]])})))()},ajaxGet:function(){return new Promise((function(o){setTimeout((function(){var t=new Array(2);o(t)}),1e3)}))},resetPullupPos:function(){var o=this.$refs.pullup;o.style.transform="translateY(0px) translateZ(0)",o.style.transition="transform 0.5s",this.stopPullup=!1}}},u=(l(403),l(40)),a=Object(u.a)(c,(function(){var o=this,t=o.$createElement,l=o._self._c||t;return l("div",{staticClass:"pullup-down-slide-wrapper"},[l("div",{ref:"pulldown",staticClass:"pulldown-wrapper"},[l("div",{directives:[{name:"show",rawName:"v-show",value:o.beforePullDown,expression:"beforePullDown"}]},[l("span",[o._v("Pull Down and refresh")])]),o._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:!o.beforePullDown,expression:"!beforePullDown"}]},[l("div",{directives:[{name:"show",rawName:"v-show",value:o.isPullingDown,expression:"isPullingDown"}]},[l("span",[o._v("Loading...")])]),o._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:!o.isPullingDown,expression:"!isPullingDown"}]},[l("span",[o._v("Refresh success")])])])]),o._v(" "),l("div",{ref:"bsWrapper",staticClass:"pullup-pulldown-slide-bswrapper"},[l("div",{staticClass:"pullup-pulldown-slide-scroller"},o._l(o.dataList,(function(t,s){var e;return l("div",{key:s,staticClass:"pullup-pulldown-slide-item",class:(e={},e["page"+s%4]=!0,e)},[o._v(o._s("Page "+s+" "))])})),0)]),o._v(" "),l("div",{ref:"pullup",staticClass:"pullup-wrapper"},[l("div",{directives:[{name:"show",rawName:"v-show",value:!o.isPullingUp,expression:"!isPullingUp"}]},[l("span",[o._v("Pull Up and load")])]),o._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:o.isPullingUp,expression:"isPullingUp"}]},[l("span",[o._v("Loading...")])])])])}),[],!1,null,"4d65a00a",null);t.default=a.exports}}]);