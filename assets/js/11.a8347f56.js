(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{305:function(o,s,l){"use strict";var t=l(301),n=[{key:"finishPullUp",name:"finishPullUp"},{key:"openPullUp",name:"openPullUp"},{key:"closePullUp",name:"closePullUp"},{key:"autoPullUpLoad",name:"autoPullUpLoad"}].map((function(o){return{key:o.key,sourceKey:"plugins.pullUpLoad."+o.name}})),i=function(){function o(o){this.scroll=o,this.pulling=!1,this.watching=!1,this.init()}return o.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullUpLoad),this.handleHooks(),this.watch()},o.prototype.handleBScroll=function(){this.scroll.registerType(["pullingUp"]),this.scroll.proxy(n)},o.prototype.handleOptions=function(o){void 0===o&&(o={}),o=!0===o?{}:o;this.options=Object(t.r)({threshold:0},o),this.scroll.options.probeType=t.j.Realtime},o.prototype.handleHooks=function(){var o=this;this.hooksFn=[];var s=this.scroll.scroller.scrollBehaviorY;this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,(function(){o.finishPullUp()})),this.registerHooks(s.hooks,s.hooks.eventTypes.computeBoundary,(function(o){o.maxScrollPos>0&&(o.maxScrollPos=-1)}))},o.prototype.registerHooks=function(o,s,l){o.on(s,l,this),this.hooksFn.push([o,s,l])},o.prototype.watch=function(){this.watching||(this.watching=!0,this.registerHooks(this.scroll,this.scroll.eventTypes.scroll,this.checkPullUp))},o.prototype.unwatch=function(){this.watching=!1,this.scroll.off(this.scroll.eventTypes.scroll,this.checkPullUp)},o.prototype.checkPullUp=function(o){var s=this,l=this.options.threshold;this.scroll.movingDirectionY===t.b.Positive&&o.y<=this.scroll.maxScrollY+l&&(this.pulling=!0,this.scroll.once(this.scroll.eventTypes.scrollEnd,(function(){s.pulling=!1})),this.unwatch(),this.scroll.trigger("pullingUp"))},o.prototype.finishPullUp=function(){var o=this;this.scroll.scroller.scrollBehaviorY.setMovingDirection(t.b.Default),this.pulling?this.scroll.once(this.scroll.eventTypes.scrollEnd,(function(){o.watch()})):this.watch()},o.prototype.openPullUp=function(o){void 0===o&&(o={}),this.handleOptions(o),this.watch()},o.prototype.closePullUp=function(){this.unwatch()},o.prototype.autoPullUpLoad=function(){var o=this.options.threshold,s=this.scroll.scroller.scrollBehaviorY;if(!this.pulling&&this.watching){var l=s.maxScrollPos+o+-1;this.scroll.scroller.scrollBehaviorY.setMovingDirection(-1),this.scroll.scrollTo(this.scroll.x,l,this.scroll.options.bounceTime)}},o.pluginName="pullUpLoad",o}();s.a=i},308:function(o,s,l){"use strict";var t=l(301),n=[{key:"finishPullDown",name:"finishPullDown"},{key:"openPullDown",name:"openPullDown"},{key:"closePullDown",name:"closePullDown"},{key:"autoPullDownRefresh",name:"autoPullDownRefresh"}].map((function(o){return{key:o.key,sourceKey:"plugins.pullDownRefresh."+o.name}})),i=function(){function o(o){this.scroll=o,this.pulling=!1,this.init()}return o.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullDownRefresh),this.handleHooks(),this.watch()},o.prototype.handleBScroll=function(){this.scroll.registerType(["pullingDown"]),this.scroll.proxy(n)},o.prototype.handleOptions=function(o){void 0===o&&(o={}),o=!0===o?{}:o;this.options=Object(t.r)({threshold:90,stop:40},o),this.scroll.options.probeType=t.j.Realtime},o.prototype.handleHooks=function(){var o=this;this.hooksFn=[];var s=this.scroll.scroller,l=s.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY=l.minScrollPos,this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,(function(){o.finishPullDown()})),this.registerHooks(l.hooks,l.hooks.eventTypes.computeBoundary,(function(s){s.maxScrollPos>0&&(s.maxScrollPos=-1),s.minScrollPos=o.currentMinScrollY})),this.scroll.eventTypes.alterOptions&&(this.registerHooks(this.scroll,this.scroll.eventTypes.alterOptions,(function(o){o.discreteTime=300,o.easeTime=350})),this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelEnd,(function(){s.hooks.trigger(s.hooks.eventTypes.end)})))},o.prototype.registerHooks=function(o,s,l){o.on(s,l,this),this.hooksFn.push([o,s,l])},o.prototype.watch=function(){var o=this.scroll.scroller;this.watching=!0,this.registerHooks(o.hooks,o.hooks.eventTypes.end,this.checkPullDown)},o.prototype.unwatch=function(){var o=this.scroll.scroller;this.watching=!1,o.hooks.off(o.hooks.eventTypes.end,this.checkPullDown)},o.prototype.checkPullDown=function(){var o=this.options,s=o.threshold,l=o.stop;return!(this.scroll.y<s)&&(this.pulling||(this.modifyBehaviorYBoundary(l),this.pulling=!0,this.scroll.trigger("pullingDown")),this.scroll.scrollTo(this.scroll.x,l,this.scroll.options.bounceTime,t.p.bounce),this.pulling)},o.prototype.modifyBehaviorYBoundary=function(o){var s=this.scroll.scroller.scrollBehaviorY;this.cachedOriginanMinScrollY=s.minScrollPos,this.currentMinScrollY=o,s.computeBoundary()},o.prototype.finishPullDown=function(){if(!0===this.pulling){var o=this.scroll.scroller.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY,o.computeBoundary(),this.pulling=!1,this.scroll.resetPosition(this.scroll.options.bounceTime,t.p.bounce)}},o.prototype.openPullDown=function(o){void 0===o&&(o={}),this.handleOptions(o),this.watching||this.watch()},o.prototype.closePullDown=function(){this.unwatch()},o.prototype.autoPullDownRefresh=function(){var o=this.options,s=o.threshold,l=o.stop;!this.pulling&&this.watching&&(this.pulling=!0,this.modifyBehaviorYBoundary(l),this.scroll.scrollTo(this.scroll.x,s),this.scroll.trigger("pullingDown"),this.scroll.scrollTo(this.scroll.x,l,this.scroll.options.bounceTime,t.p.bounce))},o.pluginName="pullDownRefresh",o}();s.a=i},336:function(o,s,l){},404:function(o,s,l){"use strict";var t=l(336);l.n(t).a},541:function(o,s,l){"use strict";l.r(s);l(162),l(7),l(92);var t=l(42),n=l(302),i=l(308),e=l(305);n.a.use(i.a),n.a.use(e.a);var r={data:function(){return{beforePullDown:!0,isPullingDown:!1,isPullingUp:!1,dataList:new Array(30)}},created:function(){this.bscroll=null},mounted:function(){this.initBscroll()},methods:{initBscroll:function(){this.bscroll=new n.a(this.$refs.bsWrapper,{scrollY:!0,bounceTime:800,pullDownRefresh:{threshold:70,stop:56},pullUpLoad:{threshold:70}}),this.bscroll.on("pullingDown",this.pullingDownHandler),this.bscroll.on("pullingUp",this.pullingUpHandler),this.bscroll.on("scroll",this.scrollHandler)},scrollHandler:function(o){console.log(o.y)},pullingDownHandler:function(){var o=this;return Object(t.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o.beforePullDown=!1,o.isPullingDown=!0,s.next=4,o.requestData("refresh");case 4:o.isPullingDown=!1,o.$nextTick((function(){o.bscroll.finishPullDown(),o.beforePullDown=!0,o.bscroll.refresh()}));case 6:case"end":return s.stop()}}),s)})))()},pullingUpHandler:function(){var o=this;return Object(t.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o.isPullingUp=!0,s.next=3,o.requestData("load");case 3:o.isPullingUp=!1,o.$nextTick((function(){o.bscroll.finishPullUp(),o.bscroll.refresh()}));case 5:case"end":return s.stop()}}),s)})))()},requestData:function(o){var s=this;return Object(t.a)(regeneratorRuntime.mark((function l(){var t;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,s.ajaxGet();case 3:t=l.sent,s.dataList="load"===o?t.concat(s.dataList):t,l.next=10;break;case 7:l.prev=7,l.t0=l.catch(0),console.log(l.t0);case 10:case"end":return l.stop()}}),l,null,[[0,7]])})))()},ajaxGet:function(){return new Promise((function(o){setTimeout((function(){var s=new Array(30);o(s)}),3e3)}))}}},c=(l(404),l(40)),h=Object(c.a)(r,(function(){var o=this,s=o.$createElement,l=o._self._c||s;return l("div",{staticClass:"pullup-down"},[l("div",{ref:"bsWrapper",staticClass:"pullup-down-bswrapper"},[l("div",{staticClass:"pulldown-scroller"},[l("div",{staticClass:"pulldown-wrapper"},[l("div",{directives:[{name:"show",rawName:"v-show",value:o.beforePullDown,expression:"beforePullDown"}]},[l("span",[o._v("Pull Down and refresh")])]),o._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:!o.beforePullDown,expression:"!beforePullDown"}]},[l("div",{directives:[{name:"show",rawName:"v-show",value:o.isPullingDown,expression:"isPullingDown"}]},[l("span",[o._v("Loading...")])]),o._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:!o.isPullingDown,expression:"!isPullingDown"}]},[l("span",[o._v("Refresh success")])])])]),o._v(" "),l("ul",{staticClass:"pullup-down-list"},o._l(o.dataList,(function(s,t){return l("li",{key:t,staticClass:"pullup-down-list-item"},[o._v(o._s("I am item "+t+" "))])})),0),o._v(" "),l("div",{staticClass:"pullup-wrapper"},[l("div",{directives:[{name:"show",rawName:"v-show",value:!o.isPullingUp,expression:"!isPullingUp"}]},[l("span",[o._v("Pull Up and load")])]),o._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:o.isPullingUp,expression:"isPullingUp"}]},[l("span",[o._v("Loading...")])])])])])])}),[],!1,null,"b47bb5b8",null);s.default=h.exports}}]);