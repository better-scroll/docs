(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{304:function(o,t,e){"use strict";var n=e(301),s=function(){function o(o){this.ancestors=[],this.descendants=[],this.hooksManager=[],this.analyzed=!1,this.selfScroll=o}return o.create=function(t){return new o(t)},o.prototype.hasAncestors=function(o){return Object(n.s)(this.ancestors,(function(t){return t[0]===o}))>-1},o.prototype.hasDescendants=function(o){return Object(n.s)(this.descendants,(function(t){return t[0]===o}))>-1},o.prototype.addAncestor=function(o,t){var e=this.ancestors;e.push([o,t]),e.sort((function(o,t){return o[1]-t[1]}))},o.prototype.addDescendant=function(o,t){var e=this.descendants;e.push([o,t]),e.sort((function(o,t){return o[1]-t[1]}))},o.prototype.removeAncestor=function(o){var t=this.ancestors;if(t.length){var e=Object(n.s)(this.ancestors,(function(t){return t[0]===o}));if(e>-1)return t.splice(e,1)}},o.prototype.removeDescendant=function(o){var t=this.descendants;if(t.length){var e=Object(n.s)(this.descendants,(function(t){return t[0]===o}));if(e>-1)return t.splice(e,1)}},o.prototype.registerHooks=function(o,t,e){o.on(t,e),this.hooksManager.push([o,t,e])},o.prototype.setAnalyzed=function(o){void 0===o&&(o=!1),this.analyzed=o},o.prototype.purge=function(){var o=this;this.ancestors.forEach((function(t){t[0].removeDescendant(o)})),this.descendants.forEach((function(t){t[0].removeAncestor(o)})),this.hooksManager.forEach((function(o){var t=o[0],e=o[1],n=o[2];t.off(e,n)})),this.hooksManager=[]},o}(),r=[{key:"purgeNestedScroll",name:"purgeNestedScroll"}].map((function(o){return{key:o.key,sourceKey:"plugins.nestedScroll."+o.name}})),l=function(){for(var o=0,t=0,e=arguments.length;t<e;t++)o+=arguments[t].length;var n=Array(o),s=0;for(t=0;t<e;t++)for(var r=arguments[t],l=0,i=r.length;l<i;l++,s++)n[s]=r[l];return n},i=function(o){o.forEach((function(o){o.enable()}))},c=function(o){o.forEach((function(o){o.disable()}))},u=function(o,t){for(var e=0,n=o.parentNode;n&&n!==t;)e++,n=n.parentNode;return e},a=function(){function o(t){var e=this.handleOptions(t),n=o.instancesMap[e];return n||((n=o.instancesMap[e]=this).store=[],n.hooksFn=[]),n.init(t),n}return o.getAllNestedScrolls=function(){var t=o.instancesMap;return Object.keys(t).map((function(o){return t[o]}))},o.purgeAllNestedScrolls=function(){o.getAllNestedScrolls().forEach((function(o){return o.purgeNestedScroll()}))},o.prototype.handleOptions=function(o){var t=!0===o.options.nestedScroll?{}:o.options.nestedScroll,e={groupId:"INTERNAL_NESTED_SCROLL"};this.options=Object(n.r)(e,t);var s=typeof this.options.groupId;return"string"!==s&&"number"!==s&&Object(n.O)("groupId must be string or number for NestedScroll plugin"),this.options.groupId},o.prototype.init=function(o){o.proxy(r),this.addBScroll(o),this.buildBScrollGraph(),this.analyzeBScrollGraph(),this.ensureEventInvokeSequence(),this.handleHooks(o)},o.prototype.handleHooks=function(o){var t=this;this.registerHooks(o.hooks,o.hooks.eventTypes.destroy,(function(){t.deleteScroll(o)}))},o.prototype.deleteScroll=function(o){o.wrapper.isBScrollContainer=void 0;var t=this.store,e=this.hooksFn,s=Object(n.s)(t,(function(t){return t.selfScroll===o}));s>-1&&(t[s].purge(),t.splice(s,1));var r=Object(n.s)(e,(function(t){return t[0]===o.hooks}));if(r>-1){var l=e[r],i=l[0],c=l[1],u=l[2];i.off(c,u),e.splice(r,1)}},o.prototype.addBScroll=function(o){this.store.push(s.create(o))},o.prototype.buildBScrollGraph=function(){for(var o,t,e,n,s=this.store,r=this.store.length,l=0;l<r;l++){e=(o=s[l]).selfScroll.wrapper;for(var i=0;i<r;i++)if(n=(t=s[i]).selfScroll.wrapper,o!==t&&e.contains(n)){var c=u(n,e);o.hasDescendants(t)||o.addDescendant(t,c),t.hasAncestors(o)||t.addAncestor(o,c)}}},o.prototype.analyzeBScrollGraph=function(){this.store.forEach((function(o){if(!o.analyzed){var t=o.ancestors,e=o.descendants,s=o.selfScroll;o.registerHooks(s,s.eventTypes.beforeScrollStart,(function(){var o,n,r,i,u,a,h,p,f,d,v=t.map((function(o){return o[0].selfScroll})),g=e.map((function(o){return o[0].selfScroll}));l(v,g).forEach((function(o){o.pending&&(o.stop(),o.resetPosition())})),n=(o=s).hasHorizontalScroll,r=o.hasVerticalScroll,i=o.x,u=o.y,a=o.minScrollX,h=o.maxScrollX,p=o.minScrollY,f=o.maxScrollY,d=!1,r?d=u>p||u<f:n&&(d=i>a||i<h),d&&function(o){o.scroller.reflow(),o.resetPosition(0)}(s),function(o){o.forEach((function(o){var t=o.scroller,e=t.actions,n=t.scrollBehaviorX,s=t.scrollBehaviorY;e.fingerMoved=!0,e.contentMoved=!1,e.directionLockAction.reset(),n.start(),s.start(),n.resetStartPos(),s.resetStartPos(),e.startTime=+new Date}))}(v),c(v)})),o.registerHooks(s,s.eventTypes.touchEnd,(function(){var o=t.map((function(o){return o[0].selfScroll})),n=e.map((function(o){return o[0].selfScroll}));i(l(o,n))}));var r=s.scroller.actions.hooks;o.registerHooks(r,r.eventTypes.detectMovingDirection,(function(){var o,e,r,l,u,a,h,p,f,d,v,g,m,y,w,k,S=t.map((function(o){return o[0].selfScroll})),P=S[0],D=S.slice(1),b=s.scroller.actions.contentMoved,O=0===S.length;if(b)c(S);else if(!O&&(e=(o=s).hasHorizontalScroll,r=o.hasVerticalScroll,l=o.x,u=o.y,a=o.minScrollX,h=o.maxScrollX,p=o.minScrollY,f=o.maxScrollY,d=o.movingDirectionX,v=o.movingDirectionY,g=!1,m=l>=a&&d===n.b.Negative,y=l<=h&&d===n.b.Positive,w=u>=p&&v===n.b.Negative,k=u<=f&&v===n.b.Positive,r?g=w||k:e&&(g=m||y),g))return c([s]),P&&i([P]),c(D),!0})),o.setAnalyzed(!0)}}))},o.prototype.ensureEventInvokeSequence=function(){this.store.slice().sort((function(o,t){return o.descendants.length-t.descendants.length})).forEach((function(o){o.selfScroll.scroller.actionsHandler.rebindDOMEvents()}))},o.prototype.registerHooks=function(o,t,e){o.on(t,e,this),this.hooksFn.push([o,t,e])},o.prototype.purgeNestedScroll=function(){var t=this.options.groupId;this.store.forEach((function(o){o.purge()})),this.store=[],this.hooksFn.forEach((function(o){var t=o[0],e=o[1],n=o[2];t.off(e,n)})),this.hooksFn=[],delete o.instancesMap[t]},o.pluginName="nestedScroll",o.instancesMap={},o}();t.a=a},305:function(o,t,e){"use strict";var n=e(301),s=[{key:"finishPullUp",name:"finishPullUp"},{key:"openPullUp",name:"openPullUp"},{key:"closePullUp",name:"closePullUp"},{key:"autoPullUpLoad",name:"autoPullUpLoad"}].map((function(o){return{key:o.key,sourceKey:"plugins.pullUpLoad."+o.name}})),r=function(){function o(o){this.scroll=o,this.pulling=!1,this.watching=!1,this.init()}return o.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullUpLoad),this.handleHooks(),this.watch()},o.prototype.handleBScroll=function(){this.scroll.registerType(["pullingUp"]),this.scroll.proxy(s)},o.prototype.handleOptions=function(o){void 0===o&&(o={}),o=!0===o?{}:o;this.options=Object(n.r)({threshold:0},o),this.scroll.options.probeType=n.j.Realtime},o.prototype.handleHooks=function(){var o=this;this.hooksFn=[];var t=this.scroll.scroller.scrollBehaviorY;this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,(function(){o.finishPullUp()})),this.registerHooks(t.hooks,t.hooks.eventTypes.computeBoundary,(function(o){o.maxScrollPos>0&&(o.maxScrollPos=-1)}))},o.prototype.registerHooks=function(o,t,e){o.on(t,e,this),this.hooksFn.push([o,t,e])},o.prototype.watch=function(){this.watching||(this.watching=!0,this.registerHooks(this.scroll,this.scroll.eventTypes.scroll,this.checkPullUp))},o.prototype.unwatch=function(){this.watching=!1,this.scroll.off(this.scroll.eventTypes.scroll,this.checkPullUp)},o.prototype.checkPullUp=function(o){var t=this,e=this.options.threshold;this.scroll.movingDirectionY===n.b.Positive&&o.y<=this.scroll.maxScrollY+e&&(this.pulling=!0,this.scroll.once(this.scroll.eventTypes.scrollEnd,(function(){t.pulling=!1})),this.unwatch(),this.scroll.trigger("pullingUp"))},o.prototype.finishPullUp=function(){var o=this;this.scroll.scroller.scrollBehaviorY.setMovingDirection(n.b.Default),this.pulling?this.scroll.once(this.scroll.eventTypes.scrollEnd,(function(){o.watch()})):this.watch()},o.prototype.openPullUp=function(o){void 0===o&&(o={}),this.handleOptions(o),this.watch()},o.prototype.closePullUp=function(){this.unwatch()},o.prototype.autoPullUpLoad=function(){var o=this.options.threshold,t=this.scroll.scroller.scrollBehaviorY;if(!this.pulling&&this.watching){var e=t.maxScrollPos+o+-1;this.scroll.scroller.scrollBehaviorY.setMovingDirection(-1),this.scroll.scrollTo(this.scroll.x,e,this.scroll.options.bounceTime)}},o.pluginName="pullUpLoad",o}();t.a=r},308:function(o,t,e){"use strict";var n=e(301),s=[{key:"finishPullDown",name:"finishPullDown"},{key:"openPullDown",name:"openPullDown"},{key:"closePullDown",name:"closePullDown"},{key:"autoPullDownRefresh",name:"autoPullDownRefresh"}].map((function(o){return{key:o.key,sourceKey:"plugins.pullDownRefresh."+o.name}})),r=function(){function o(o){this.scroll=o,this.pulling=!1,this.init()}return o.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullDownRefresh),this.handleHooks(),this.watch()},o.prototype.handleBScroll=function(){this.scroll.registerType(["pullingDown"]),this.scroll.proxy(s)},o.prototype.handleOptions=function(o){void 0===o&&(o={}),o=!0===o?{}:o;this.options=Object(n.r)({threshold:90,stop:40},o),this.scroll.options.probeType=n.j.Realtime},o.prototype.handleHooks=function(){var o=this;this.hooksFn=[];var t=this.scroll.scroller,e=t.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY=e.minScrollPos,this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,(function(){o.finishPullDown()})),this.registerHooks(e.hooks,e.hooks.eventTypes.computeBoundary,(function(t){t.maxScrollPos>0&&(t.maxScrollPos=-1),t.minScrollPos=o.currentMinScrollY})),this.scroll.eventTypes.alterOptions&&(this.registerHooks(this.scroll,this.scroll.eventTypes.alterOptions,(function(o){o.discreteTime=300,o.easeTime=350})),this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelEnd,(function(){t.hooks.trigger(t.hooks.eventTypes.end)})))},o.prototype.registerHooks=function(o,t,e){o.on(t,e,this),this.hooksFn.push([o,t,e])},o.prototype.watch=function(){var o=this.scroll.scroller;this.watching=!0,this.registerHooks(o.hooks,o.hooks.eventTypes.end,this.checkPullDown)},o.prototype.unwatch=function(){var o=this.scroll.scroller;this.watching=!1,o.hooks.off(o.hooks.eventTypes.end,this.checkPullDown)},o.prototype.checkPullDown=function(){var o=this.options,t=o.threshold,e=o.stop;return!(this.scroll.y<t)&&(this.pulling||(this.modifyBehaviorYBoundary(e),this.pulling=!0,this.scroll.trigger("pullingDown")),this.scroll.scrollTo(this.scroll.x,e,this.scroll.options.bounceTime,n.p.bounce),this.pulling)},o.prototype.modifyBehaviorYBoundary=function(o){var t=this.scroll.scroller.scrollBehaviorY;this.cachedOriginanMinScrollY=t.minScrollPos,this.currentMinScrollY=o,t.computeBoundary()},o.prototype.finishPullDown=function(){if(!0===this.pulling){var o=this.scroll.scroller.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY,o.computeBoundary(),this.pulling=!1,this.scroll.resetPosition(this.scroll.options.bounceTime,n.p.bounce)}},o.prototype.openPullDown=function(o){void 0===o&&(o={}),this.handleOptions(o),this.watching||this.watch()},o.prototype.closePullDown=function(){this.unwatch()},o.prototype.autoPullDownRefresh=function(){var o=this.options,t=o.threshold,e=o.stop;!this.pulling&&this.watching&&(this.pulling=!0,this.modifyBehaviorYBoundary(e),this.scroll.scrollTo(this.scroll.x,t),this.scroll.trigger("pullingDown"),this.scroll.scrollTo(this.scroll.x,e,this.scroll.options.bounceTime,n.p.bounce))},o.pluginName="pullDownRefresh",o}();t.a=r},334:function(o,t,e){},402:function(o,t,e){"use strict";var n=e(334);e.n(n).a},539:function(o,t,e){"use strict";e.r(t);e(162),e(7),e(92);var n=e(42),s=e(302),r=e(304),l=e(305),i=e(308);s.a.use(r.a),s.a.use(l.a),s.a.use(i.a);var c=["😀  😁   😂  🤣   😃  🙃","👆🏻 Pull Down and refresh👆🏻","🙂  🤔   😄  🤨   😐  🙃","👆🏻 Pull Down and refresh👆🏻","😔  😕   🙃  🤑   😲  ☹️","🙂  🤔  😄  🤨   😐  🙃 ","👆🏻 Pull Down and refresh👆🏻","😔  😕   🙃  🤑   😲  ☹️ "],u=["😀  😁   😂  🤣   😃  🙃","👆🏻 Pull Up and refresh👆🏻","🙂  🤔   😄  🤨   😐  🙃","👆🏻 Pull Up and refresh👆🏻","😔  😕   🙃  🤑   😲  ☹️","🙂  🤔  😄  🤨   😐  🙃 ","👆🏻 Pull Up and refresh👆🏻","😔  😕   🙃  🤑   😲  ☹️ "],a=["The Mountain top of Inner","😀 😁 😂 🤣 😃 🙃 ","👆🏻 inner scroll 👇🏻 ","🙂 🤔 😄 🤨 😐 🙃 ","👆🏻 inner scroll 👇🏻 ","😔 😕 🙃 🤑 😲 ☹️ ","👆🏻 inner scroll 👇🏻 ","🐣 🐣 🐣 🐣 🐣 🐣 ","👆🏻 inner scroll 👇🏻 ","🐥 🐥 🐥 🐥 🐥 🐥 ","👆🏻 inner scroll 👇🏻 ","🤓 🤓 🤓 🤓 🤓 🤓 ","👆🏻 inner scroll 👇🏻 ","🦔 🦔 🦔 🦔 🦔 🦔 ","👆🏻 inner scroll 👇🏻 ","🙈 🙈 🙈 🙈 🙈 🙈 ","👆🏻 inner scroll 👇🏻 ","🚖 🚖 🚖 🚖 🚖 🚖 ","👆🏻 inner scroll 👇🏻 ","✌🏻 ✌🏻 ✌🏻 ✌🏻 ✌🏻 ✌🏻 ","The Mountain foot of Inner"],h={data:function(){return{topOutItems:c,bottomOutItems:u,innerItems:a,beforePullDown:!0,isPullingDown:!1,isPullingUp:!1}},mounted:function(){this.initBScroll()},methods:{initBScroll:function(){this.outerScroll=new s.a(this.$refs.outerScroll,{nestedScroll:{groupId:"pullup-pullldown"},bounceTime:800,pullDownRefresh:{threshold:70,stop:56},pullUpLoad:{threshold:70}}),this.innerScroll=new s.a(this.$refs.innerScroll,{nestedScroll:{groupId:"pullup-pullldown"},bounce:{top:!1,bottom:!1}}),this.outerScroll.on("pullingDown",this.pullingDownHandler),this.outerScroll.on("pullingUp",this.pullingUpHandler),this.outerScroll.on("scroll",this.scrollHandler)},scrollHandler:function(o){console.log(o.y)},pullingDownHandler:function(){var o=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.beforePullDown=!1,o.isPullingDown=!0,t.next=4,o.requestData("refresh");case 4:o.isPullingDown=!1,o.$nextTick((function(){o.outerScroll.finishPullDown(),o.beforePullDown=!0,o.outerScroll.refresh()}));case 6:case"end":return t.stop()}}),t)})))()},pullingUpHandler:function(){var o=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.isPullingUp=!0,t.next=3,o.requestData("load");case 3:o.isPullingUp=!1,o.$nextTick((function(){o.outerScroll.finishPullUp(),o.outerScroll.refresh()}));case 5:case"end":return t.stop()}}),t)})))()},requestData:function(o){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var n,s,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.ajaxGet();case 3:n=e.sent,s=n.topOutItems,r=n.bottomOutItems,"load"===o?t.bottomOutItems=t.bottomOutItems.concat(r):(t.topOutItems=s,t.bottomOutItems=r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},ajaxGet:function(){return new Promise((function(o){setTimeout((function(){o({topOutItems:c,bottomOutItems:u})}),3e3)}))}}},p=(e(402),e(40)),f=Object(p.a)(h,(function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{staticClass:"container"},[e("div",{ref:"outerScroll",staticClass:"outer-wrapper"},[e("div",{staticClass:"outer-content"},[e("div",{staticClass:"pulldown-wrapper"},[e("div",{directives:[{name:"show",rawName:"v-show",value:o.beforePullDown,expression:"beforePullDown"}]},[e("span",[o._v("Pull Down and refresh")])]),o._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!o.beforePullDown,expression:"!beforePullDown"}]},[e("div",{directives:[{name:"show",rawName:"v-show",value:o.isPullingDown,expression:"isPullingDown"}]},[e("span",[o._v("Loading...")])]),o._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!o.isPullingDown,expression:"!isPullingDown"}]},[e("span",[o._v("Refresh success")])])])]),o._v(" "),e("ul",o._l(o.topOutItems,(function(t,n){return e("li",{key:n,staticClass:"outer-list-item"},[o._v(o._s(t))])})),0),o._v(" "),e("div",{ref:"innerScroll",staticClass:"inner-wrapper"},[e("ul",{staticClass:"inner-content"},o._l(o.innerItems,(function(t,n){return e("li",{key:n,staticClass:"inner-list-item"},[o._v(o._s(t))])})),0)]),o._v(" "),e("ul",o._l(o.bottomOutItems,(function(t,n){return e("li",{key:n,staticClass:"outer-list-item2"},[o._v(o._s(t))])})),0),o._v(" "),e("div",{staticClass:"pullup-wrapper"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!o.isPullingUp,expression:"!isPullingUp"}]},[e("span",[o._v("Pull Up and load")])]),o._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:o.isPullingUp,expression:"isPullingUp"}]},[e("span",[o._v("Loading...")])])])])])])}),[],!1,null,"07f524ce",null);t.default=f.exports}}]);