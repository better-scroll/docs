(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{305:function(t,l,s){"use strict";var o=s(301),i=[{key:"finishPullUp",name:"finishPullUp"},{key:"openPullUp",name:"openPullUp"},{key:"closePullUp",name:"closePullUp"},{key:"autoPullUpLoad",name:"autoPullUpLoad"}].map((function(t){return{key:t.key,sourceKey:"plugins.pullUpLoad."+t.name}})),n=function(){function t(t){this.scroll=t,this.pulling=!1,this.watching=!1,this.init()}return t.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullUpLoad),this.handleHooks(),this.watch()},t.prototype.handleBScroll=function(){this.scroll.registerType(["pullingUp"]),this.scroll.proxy(i)},t.prototype.handleOptions=function(t){void 0===t&&(t={}),t=!0===t?{}:t;this.options=Object(o.r)({threshold:0},t),this.scroll.options.probeType=o.j.Realtime},t.prototype.handleHooks=function(){var t=this;this.hooksFn=[];var l=this.scroll.scroller.scrollBehaviorY;this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,(function(){t.finishPullUp()})),this.registerHooks(l.hooks,l.hooks.eventTypes.computeBoundary,(function(t){t.maxScrollPos>0&&(t.maxScrollPos=-1)}))},t.prototype.registerHooks=function(t,l,s){t.on(l,s,this),this.hooksFn.push([t,l,s])},t.prototype.watch=function(){this.watching||(this.watching=!0,this.registerHooks(this.scroll,this.scroll.eventTypes.scroll,this.checkPullUp))},t.prototype.unwatch=function(){this.watching=!1,this.scroll.off(this.scroll.eventTypes.scroll,this.checkPullUp)},t.prototype.checkPullUp=function(t){var l=this,s=this.options.threshold;this.scroll.movingDirectionY===o.b.Positive&&t.y<=this.scroll.maxScrollY+s&&(this.pulling=!0,this.scroll.once(this.scroll.eventTypes.scrollEnd,(function(){l.pulling=!1})),this.unwatch(),this.scroll.trigger("pullingUp"))},t.prototype.finishPullUp=function(){var t=this;this.scroll.scroller.scrollBehaviorY.setMovingDirection(o.b.Default),this.pulling?this.scroll.once(this.scroll.eventTypes.scrollEnd,(function(){t.watch()})):this.watch()},t.prototype.openPullUp=function(t){void 0===t&&(t={}),this.handleOptions(t),this.watch()},t.prototype.closePullUp=function(){this.unwatch()},t.prototype.autoPullUpLoad=function(){var t=this.options.threshold,l=this.scroll.scroller.scrollBehaviorY;if(!this.pulling&&this.watching){var s=l.maxScrollPos+t+-1;this.scroll.scroller.scrollBehaviorY.setMovingDirection(-1),this.scroll.scrollTo(this.scroll.x,s,this.scroll.options.bounceTime)}},t.pluginName="pullUpLoad",t}();l.a=n},366:function(t,l,s){},524:function(t,l,s){"use strict";var o=s(366);s.n(o).a},568:function(t,l,s){"use strict";s.r(l);s(7),s(92);var o=s(42),i=s(302),n=s(305);i.a.use(n.a);var e={data:function(){return{isPullUpLoad:!1,data:30}},mounted:function(){this.initBscroll()},methods:{initBscroll:function(){this.bscroll=new i.a(this.$refs.scroll,{pullUpLoad:!0}),this.bscroll.on("pullingUp",this.pullingUpHandler)},pullingUpHandler:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t.isPullUpLoad=!0,l.next=3,t.requestData();case 3:t.bscroll.finishPullUp(),t.bscroll.refresh(),t.isPullUpLoad=!1;case 6:case"end":return l.stop()}}),l)})))()},requestData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function l(){var s;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,t.ajaxGet();case 3:s=l.sent,t.data+=s,l.next=10;break;case 7:l.prev=7,l.t0=l.catch(0),console.log(l.t0);case 10:case"end":return l.stop()}}),l,null,[[0,7]])})))()},ajaxGet:function(){return new Promise((function(t){setTimeout((function(){t(20)}),1e3)}))}}},r=(s(524),s(40)),c=Object(r.a)(e,(function(){var t=this,l=t.$createElement,s=t._self._c||l;return s("div",{staticClass:"pullup"},[s("div",{ref:"scroll",staticClass:"pullup-wrapper"},[s("div",{staticClass:"pullup-content"},[s("ul",{staticClass:"pullup-list"},t._l(t.data,(function(l){return s("li",{key:l,staticClass:"pullup-list-item"},[t._v("\n          "+t._s(l%5==0?"scroll up 👆🏻":"I am item "+l+" ")+"\n        ")])})),0),t._v(" "),s("div",{staticClass:"pullup-tips"},[t.isPullUpLoad?s("div",{staticClass:"after-trigger"},[s("span",{staticClass:"pullup-txt"},[t._v("Loading...")])]):s("div",{staticClass:"before-trigger"},[s("span",{staticClass:"pullup-txt"},[t._v("Pull up and load more")])])])])])])}),[],!1,null,"7a2f343f",null);l.default=c.exports}}]);