(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{308:function(o,n,s){"use strict";var e=s(301),t=[{key:"finishPullDown",name:"finishPullDown"},{key:"openPullDown",name:"openPullDown"},{key:"closePullDown",name:"closePullDown"},{key:"autoPullDownRefresh",name:"autoPullDownRefresh"}].map((function(o){return{key:o.key,sourceKey:"plugins.pullDownRefresh."+o.name}})),l=function(){function o(o){this.scroll=o,this.pulling=!1,this.init()}return o.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullDownRefresh),this.handleHooks(),this.watch()},o.prototype.handleBScroll=function(){this.scroll.registerType(["pullingDown"]),this.scroll.proxy(t)},o.prototype.handleOptions=function(o){void 0===o&&(o={}),o=!0===o?{}:o;this.options=Object(e.r)({threshold:90,stop:40},o),this.scroll.options.probeType=e.j.Realtime},o.prototype.handleHooks=function(){var o=this;this.hooksFn=[];var n=this.scroll.scroller,s=n.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY=s.minScrollPos,this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,(function(){o.finishPullDown()})),this.registerHooks(s.hooks,s.hooks.eventTypes.computeBoundary,(function(n){n.maxScrollPos>0&&(n.maxScrollPos=-1),n.minScrollPos=o.currentMinScrollY})),this.scroll.eventTypes.alterOptions&&(this.registerHooks(this.scroll,this.scroll.eventTypes.alterOptions,(function(o){o.discreteTime=300,o.easeTime=350})),this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelEnd,(function(){n.hooks.trigger(n.hooks.eventTypes.end)})))},o.prototype.registerHooks=function(o,n,s){o.on(n,s,this),this.hooksFn.push([o,n,s])},o.prototype.watch=function(){var o=this.scroll.scroller;this.watching=!0,this.registerHooks(o.hooks,o.hooks.eventTypes.end,this.checkPullDown)},o.prototype.unwatch=function(){var o=this.scroll.scroller;this.watching=!1,o.hooks.off(o.hooks.eventTypes.end,this.checkPullDown)},o.prototype.checkPullDown=function(){var o=this.options,n=o.threshold,s=o.stop;return!(this.scroll.y<n)&&(this.pulling||(this.modifyBehaviorYBoundary(s),this.pulling=!0,this.scroll.trigger("pullingDown")),this.scroll.scrollTo(this.scroll.x,s,this.scroll.options.bounceTime,e.p.bounce),this.pulling)},o.prototype.modifyBehaviorYBoundary=function(o){var n=this.scroll.scroller.scrollBehaviorY;this.cachedOriginanMinScrollY=n.minScrollPos,this.currentMinScrollY=o,n.computeBoundary()},o.prototype.finishPullDown=function(){if(!0===this.pulling){var o=this.scroll.scroller.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY,o.computeBoundary(),this.pulling=!1,this.scroll.resetPosition(this.scroll.options.bounceTime,e.p.bounce)}},o.prototype.openPullDown=function(o){void 0===o&&(o={}),this.handleOptions(o),this.watching||this.watch()},o.prototype.closePullDown=function(){this.unwatch()},o.prototype.autoPullDownRefresh=function(){var o=this.options,n=o.threshold,s=o.stop;!this.pulling&&this.watching&&(this.pulling=!0,this.modifyBehaviorYBoundary(s),this.scroll.scrollTo(this.scroll.x,n),this.scroll.trigger("pullingDown"),this.scroll.scrollTo(this.scroll.x,s,this.scroll.options.bounceTime,e.p.bounce))},o.pluginName="pullDownRefresh",o}();n.a=l},365:function(o,n,s){},523:function(o,n,s){"use strict";var e=s(365);s.n(e).a},567:function(o,n,s){"use strict";s.r(n);s(162),s(7),s(92);var e=s(42),t=s(302),l=s(308);function i(){for(var o=30*r,n=[],s=30*(r+1);s>o;s--)n.push(s);return n}t.a.use(l.a);var r=0,c={data:function(){return{beforePullDown:!0,isPullingDown:!1,dataList:i()}},mounted:function(){this.initBscroll()},methods:{initBscroll:function(){this.bscroll=new t.a(this.$refs.bsWrapper,{scrollY:!0,bounceTime:800,useTransition:!1,pullDownRefresh:{threshold:70,stop:56}}),this.bscroll.on("pullingDown",this.pullingDownHandler),this.bscroll.on("scroll",this.scrollHandler),this.bscroll.on("scrollEnd",(function(o){console.log("scrollEnd")}))},scrollHandler:function(o){console.log(o.y)},pullingDownHandler:function(){var o=this;return Object(e.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("trigger pullDown"),o.beforePullDown=!1,o.isPullingDown=!0,r+=1,n.next=6,o.requestData();case 6:o.isPullingDown=!1,o.finishPullDown();case 8:case"end":return n.stop()}}),n)})))()},finishPullDown:function(){var o=this;return Object(e.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o.bscroll.finishPullDown(),setTimeout((function(){o.beforePullDown=!0,o.bscroll.refresh()}),900);case 2:case"end":return n.stop()}}),n)})))()},requestData:function(){var o=this;return Object(e.a)(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.ajaxGet();case 3:s=n.sent,o.dataList=s.concat(o.dataList),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},ajaxGet:function(){return new Promise((function(o){setTimeout((function(){var n=i();o(n)}),1e3)}))}}},u=(s(523),s(40)),a=Object(u.a)(c,(function(){var o=this,n=o.$createElement,s=o._self._c||n;return s("div",{staticClass:"pulldown"},[s("div",{ref:"bsWrapper",staticClass:"pulldown-bswrapper"},[s("div",{staticClass:"pulldown-scroller"},[s("div",{staticClass:"pulldown-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:o.beforePullDown,expression:"beforePullDown"}]},[s("span",[o._v("Pull Down and refresh")])]),o._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!o.beforePullDown,expression:"!beforePullDown"}]},[s("div",{directives:[{name:"show",rawName:"v-show",value:o.isPullingDown,expression:"isPullingDown"}]},[s("span",[o._v("Loading...")])]),o._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!o.isPullingDown,expression:"!isPullingDown"}]},[s("span",[o._v("Refresh success")])])])]),o._v(" "),s("ul",{staticClass:"pulldown-list"},o._l(o.dataList,(function(n){return s("li",{key:n,staticClass:"pulldown-list-item"},[o._v(o._s("I am item "+n+" "))])})),0)])])])}),[],!1,null,"bcdaba5c",null);n.default=a.exports}}]);