<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API | BetterScroll 2.0</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="shortcut icon" href="/docs/assets/bs.ico" type="images/x-icon">
    <script src="https://www.googletagmanager.com/gtag/js?id=G-7E85TW7P27"></script>
    <script type="text/javascript">
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7E85TW7P27');
    </script>
    <meta name="description" content="Make Scroll Perfect">
    
    <link rel="preload" href="/docs/assets/css/0.styles.bfcfa8b0.css" as="style"><link rel="preload" href="/docs/assets/js/app.49c510b7.js" as="script"><link rel="preload" href="/docs/assets/js/6.78beaf32.js" as="script"><link rel="preload" href="/docs/assets/js/64.3ec18ae5.js" as="script"><link rel="preload" href="/docs/assets/js/41.bb3c0467.js" as="script"><link rel="prefetch" href="/docs/assets/js/1.8668a212.js"><link rel="prefetch" href="/docs/assets/js/10.b6d20dac.js"><link rel="prefetch" href="/docs/assets/js/100.112398ec.js"><link rel="prefetch" href="/docs/assets/js/101.49055772.js"><link rel="prefetch" href="/docs/assets/js/102.a8cecad8.js"><link rel="prefetch" href="/docs/assets/js/103.476feef7.js"><link rel="prefetch" href="/docs/assets/js/104.c2c39df6.js"><link rel="prefetch" href="/docs/assets/js/105.5518a3e9.js"><link rel="prefetch" href="/docs/assets/js/106.7f63c400.js"><link rel="prefetch" href="/docs/assets/js/107.120bdae4.js"><link rel="prefetch" href="/docs/assets/js/108.199e433b.js"><link rel="prefetch" href="/docs/assets/js/109.e7287433.js"><link rel="prefetch" href="/docs/assets/js/11.7fded151.js"><link rel="prefetch" href="/docs/assets/js/12.2f5b6423.js"><link rel="prefetch" href="/docs/assets/js/13.48d7535e.js"><link rel="prefetch" href="/docs/assets/js/14.6377f715.js"><link rel="prefetch" href="/docs/assets/js/15.2a5bb021.js"><link rel="prefetch" href="/docs/assets/js/16.03557842.js"><link rel="prefetch" href="/docs/assets/js/17.2f437df4.js"><link rel="prefetch" href="/docs/assets/js/18.8d4d01d9.js"><link rel="prefetch" href="/docs/assets/js/19.75511ca5.js"><link rel="prefetch" href="/docs/assets/js/2.881fe9ac.js"><link rel="prefetch" href="/docs/assets/js/20.156dfe6e.js"><link rel="prefetch" href="/docs/assets/js/21.a9c14cf4.js"><link rel="prefetch" href="/docs/assets/js/22.df99bdcc.js"><link rel="prefetch" href="/docs/assets/js/23.a8f99ebb.js"><link rel="prefetch" href="/docs/assets/js/24.36becf82.js"><link rel="prefetch" href="/docs/assets/js/25.36cdb49b.js"><link rel="prefetch" href="/docs/assets/js/26.a3c372af.js"><link rel="prefetch" href="/docs/assets/js/27.d6f4bd94.js"><link rel="prefetch" href="/docs/assets/js/28.9891e947.js"><link rel="prefetch" href="/docs/assets/js/29.bbee1e24.js"><link rel="prefetch" href="/docs/assets/js/30.4799acfb.js"><link rel="prefetch" href="/docs/assets/js/31.70d1dcab.js"><link rel="prefetch" href="/docs/assets/js/32.86636612.js"><link rel="prefetch" href="/docs/assets/js/33.be1aa230.js"><link rel="prefetch" href="/docs/assets/js/34.54dd69dc.js"><link rel="prefetch" href="/docs/assets/js/35.7300612b.js"><link rel="prefetch" href="/docs/assets/js/36.d9154801.js"><link rel="prefetch" href="/docs/assets/js/37.24c29120.js"><link rel="prefetch" href="/docs/assets/js/38.797aa0a1.js"><link rel="prefetch" href="/docs/assets/js/39.3277d35b.js"><link rel="prefetch" href="/docs/assets/js/40.843c28e5.js"><link rel="prefetch" href="/docs/assets/js/42.7edb1aca.js"><link rel="prefetch" href="/docs/assets/js/43.a8fc8f6b.js"><link rel="prefetch" href="/docs/assets/js/44.418d087f.js"><link rel="prefetch" href="/docs/assets/js/45.725bd4f8.js"><link rel="prefetch" href="/docs/assets/js/46.8c2b390d.js"><link rel="prefetch" href="/docs/assets/js/47.be7a5f63.js"><link rel="prefetch" href="/docs/assets/js/48.396d979d.js"><link rel="prefetch" href="/docs/assets/js/49.122ad089.js"><link rel="prefetch" href="/docs/assets/js/5.a6f9dbdd.js"><link rel="prefetch" href="/docs/assets/js/50.b19f8ca3.js"><link rel="prefetch" href="/docs/assets/js/51.cb791b22.js"><link rel="prefetch" href="/docs/assets/js/52.a0a34e23.js"><link rel="prefetch" href="/docs/assets/js/53.e4b0f59a.js"><link rel="prefetch" href="/docs/assets/js/54.bfd2e724.js"><link rel="prefetch" href="/docs/assets/js/55.0cc122d8.js"><link rel="prefetch" href="/docs/assets/js/56.e5233103.js"><link rel="prefetch" href="/docs/assets/js/57.e72be632.js"><link rel="prefetch" href="/docs/assets/js/58.78c25fb6.js"><link rel="prefetch" href="/docs/assets/js/59.a99583b5.js"><link rel="prefetch" href="/docs/assets/js/60.420f82aa.js"><link rel="prefetch" href="/docs/assets/js/61.653b9ae3.js"><link rel="prefetch" href="/docs/assets/js/62.7866e2fc.js"><link rel="prefetch" href="/docs/assets/js/63.58c71e5f.js"><link rel="prefetch" href="/docs/assets/js/65.fa456bbc.js"><link rel="prefetch" href="/docs/assets/js/66.bb08c079.js"><link rel="prefetch" href="/docs/assets/js/67.9aca9040.js"><link rel="prefetch" href="/docs/assets/js/68.a47686ba.js"><link rel="prefetch" href="/docs/assets/js/69.5d2fe95a.js"><link rel="prefetch" href="/docs/assets/js/7.a2819810.js"><link rel="prefetch" href="/docs/assets/js/70.fb424530.js"><link rel="prefetch" href="/docs/assets/js/71.e7320cc5.js"><link rel="prefetch" href="/docs/assets/js/72.1374067e.js"><link rel="prefetch" href="/docs/assets/js/73.88c0829c.js"><link rel="prefetch" href="/docs/assets/js/74.5c7a4ef6.js"><link rel="prefetch" href="/docs/assets/js/75.1a591096.js"><link rel="prefetch" href="/docs/assets/js/76.38a816b1.js"><link rel="prefetch" href="/docs/assets/js/77.3062ad5d.js"><link rel="prefetch" href="/docs/assets/js/78.b5db4df3.js"><link rel="prefetch" href="/docs/assets/js/79.c048adbb.js"><link rel="prefetch" href="/docs/assets/js/8.09139ea4.js"><link rel="prefetch" href="/docs/assets/js/80.e0b238ec.js"><link rel="prefetch" href="/docs/assets/js/81.ea9343b5.js"><link rel="prefetch" href="/docs/assets/js/82.75e4cb53.js"><link rel="prefetch" href="/docs/assets/js/83.5ca9608e.js"><link rel="prefetch" href="/docs/assets/js/84.a00dac33.js"><link rel="prefetch" href="/docs/assets/js/85.4aa466e0.js"><link rel="prefetch" href="/docs/assets/js/86.3ba657bc.js"><link rel="prefetch" href="/docs/assets/js/87.211f4525.js"><link rel="prefetch" href="/docs/assets/js/88.7462b027.js"><link rel="prefetch" href="/docs/assets/js/89.c5ebdff0.js"><link rel="prefetch" href="/docs/assets/js/9.e543c1dd.js"><link rel="prefetch" href="/docs/assets/js/90.831435ce.js"><link rel="prefetch" href="/docs/assets/js/91.258f5d48.js"><link rel="prefetch" href="/docs/assets/js/92.e2e5b9d5.js"><link rel="prefetch" href="/docs/assets/js/93.87d9fe19.js"><link rel="prefetch" href="/docs/assets/js/94.57670642.js"><link rel="prefetch" href="/docs/assets/js/95.675a0010.js"><link rel="prefetch" href="/docs/assets/js/96.c4b75037.js"><link rel="prefetch" href="/docs/assets/js/97.0d7ac14c.js"><link rel="prefetch" href="/docs/assets/js/98.5a1abd43.js"><link rel="prefetch" href="/docs/assets/js/99.b70e60d1.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.93c2ffca.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.bfcfa8b0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/en-US/" class="home-link router-link-active"><img src="https://dpubstatic.udache.com/static/dpubimg/t_L6vAgQ-E/logo.svg" alt="BetterScroll 2.0" class="logo"> <span class="site-name can-hide">BetterScroll 2.0</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/en-US/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/docs/en-US/plugins/" class="nav-link">
  Plugin
</a></div><div class="nav-item"><a href="/docs/en-US/FAQ/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="https://github.com/ustbhuangyi/better-scroll/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discuss
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/en-US/guide/base-scroll-api.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/docs/zh-CN/guide/base-scroll-api.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/ustbhuangyi/better-scroll" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/en-US/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/docs/en-US/plugins/" class="nav-link">
  Plugin
</a></div><div class="nav-item"><a href="/docs/en-US/FAQ/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="https://github.com/ustbhuangyi/better-scroll/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discuss
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/en-US/guide/base-scroll-api.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/docs/zh-CN/guide/base-scroll-api.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/ustbhuangyi/better-scroll" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en-US/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/docs/en-US/guide/how-to-install.html" class="sidebar-link">Install</a></li><li><a href="/docs/en-US/guide/use.html" class="sidebar-link">How to use</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Base Scroll</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en-US/guide/base-scroll.html" class="sidebar-link">base-scroll</a></li><li><a href="/docs/en-US/guide/base-scroll-options.html" class="sidebar-link">Options</a></li><li><a href="/docs/en-US/guide/base-scroll-api.html" aria-current="page" class="active sidebar-link">API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/en-US/guide/base-scroll-api.html#properties" class="sidebar-link">Properties</a></li><li class="sidebar-sub-header"><a href="/docs/en-US/guide/base-scroll-api.html#methods" class="sidebar-link">Methods</a></li><li class="sidebar-sub-header"><a href="/docs/en-US/guide/base-scroll-api.html#events-vs-hooks" class="sidebar-link">Events VS Hooks</a></li><li class="sidebar-sub-header"><a href="/docs/en-US/guide/base-scroll-api.html#events" class="sidebar-link">Events</a></li><li class="sidebar-sub-header"><a href="/docs/en-US/guide/base-scroll-api.html#hooks" class="sidebar-link">Hooks</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="api"><a href="#api" class="header-anchor">#</a> API</h1> <p>If you want to understand BetterScroll thoroughly, you need to understand the common properties of its instances, the flexible methods, and the hooks provided.</p> <h2 id="properties"><a href="#properties" class="header-anchor">#</a> Properties</h2> <p>Sometimes we want to do some extensions based on BetterScroll, we need to understand some of the properties of BetterScroll. Here are a few common properties.</p> <h3 id="x"><a href="#x" class="header-anchor">#</a> x</h3> <ul><li><strong>Type</strong>: <code>number</code>.</li> <li><strong>Usage</strong>: scroll horizontal axis coordinate.</li></ul> <h3 id="y"><a href="#y" class="header-anchor">#</a> y</h3> <ul><li><strong>Type</strong>: <code>number</code>.</li> <li><strong>Usage</strong>: scroll vertical axis coordinate.</li></ul> <h3 id="maxscrollx"><a href="#maxscrollx" class="header-anchor">#</a> maxScrollX</h3> <ul><li><strong>Type</strong>: <code>number</code></li> <li><strong>Usage</strong>: max scrollable horizontal coordinate.</li> <li><strong>Note</strong>: horizontal scroll range is [minScrollX, maxScrollX], and maxScrollX is negative value.</li></ul> <h3 id="minscrollx"><a href="#minscrollx" class="header-anchor">#</a> minScrollX</h3> <ul><li><strong>Type</strong>: <code>number</code></li> <li><strong>Usage</strong>: min scrollable horizontal coordinate.</li> <li><strong>Note</strong>: horizontal scroll range is [minScrollX, maxScrollX], and minScrollX is positive value.</li></ul> <h3 id="maxscrolly"><a href="#maxscrolly" class="header-anchor">#</a> maxScrollY</h3> <ul><li><strong>Type</strong>: <code>number</code></li> <li><strong>Usage</strong>: max scrollable vertical coordinate</li> <li><strong>Note</strong>: vertical scroll range is [minScrollY, maxScrollY], and maxScrollY is negative value.</li></ul> <h3 id="minscrolly"><a href="#minscrolly" class="header-anchor">#</a> minScrollY</h3> <ul><li><strong>Type</strong>: <code>number</code></li> <li><strong>Usage</strong>: min scrollable vertical coordinate</li> <li><strong>Note</strong>: vertical scroll range is [minScrollY, maxScrollY], and minScrollY is positive value.</li></ul> <h3 id="movingdirectionx"><a href="#movingdirectionx" class="header-anchor">#</a> movingDirectionX</h3> <ul><li><strong>Type</strong>: <code>number</code></li> <li><strong>Usage</strong>: estimate the moving direction on horizontal is left or right.</li> <li><strong>Note</strong>: -1 means finger moves from left to right, 1 means moving from right to left, 0 means haven't moved.</li></ul> <h3 id="movingdirectiony"><a href="#movingdirectiony" class="header-anchor">#</a> movingDirectionY</h3> <ul><li><strong>Type</strong>: <code>number</code></li> <li><strong>Usage</strong>: estimate the moving direction on vertical is up or down during scrolling.</li> <li><strong>Note</strong>: -1 means finger moves from up to down, 1 means from down to up, 0 means haven't moved.</li></ul> <h3 id="directionx"><a href="#directionx" class="header-anchor">#</a> directionX</h3> <ul><li><strong>Type</strong>: <code>number</code></li> <li><strong>Usage</strong>: estimate the moving direction on horizontal between start position and end position is left or right.</li> <li><strong>Note</strong>: -1 means finger moves from up to down, 1 means from down to up, 0 means haven't moved.</li></ul> <h3 id="directiony"><a href="#directiony" class="header-anchor">#</a> directionY</h3> <ul><li><strong>Type</strong>: <code>number</code></li> <li><strong>Usage</strong>: estimate the moving direction on vertical between start position and end position is up or down.</li> <li><strong>Note</strong>: -1 means finger moves from up to down, 1 means from down to up, 0 means haven't moved.</li></ul> <h3 id="enabled"><a href="#enabled" class="header-anchor">#</a> enabled</h3> <ul><li><strong>Type</strong>: <code>boolean</code>,</li> <li><strong>Usage</strong>: estimate whether the current scroll is enabled.</li></ul> <h3 id="pending"><a href="#pending" class="header-anchor">#</a> pending</h3> <ul><li><strong>Type</strong>: <code>boolean</code>,</li> <li><strong>Usage</strong>: estimate whether the current scroll is animating.</li></ul> <h2 id="methods"><a href="#methods" class="header-anchor">#</a> Methods</h2> <p>BetterScroll provides a lot of flexible APIs, which are used when we implement some features based on BetterScroll, and understanding them will help to meet more complex requirements.</p> <h3 id="refresh"><a href="#refresh" class="header-anchor">#</a> refresh()</h3> <ul><li><strong>Arguments</strong>: none.</li> <li><strong>Return</strong>: none.</li> <li><strong>Usage</strong>: recalculate BetterScroll to ensure scroll work properly when the structure of DOM changes.</li></ul> <h3 id="scrollto-x-y-time-easing-extratransform"><a href="#scrollto-x-y-time-easing-extratransform" class="header-anchor">#</a> scrollTo(x, y, time, easing, extraTransform)</h3> <ul><li><strong>Arguments</strong>:
<ul><li><code>{number} x</code>, horizontal axis distance. (unit: px)</li> <li><code>{number} y</code>, vertical axis distance. (unit: px)</li> <li><code>{number} time</code>, animation duration. (unit: ms)</li> <li><code>{Object} easing function</code>, usually don't suggest modifying. If you really need to modify, please refer <code>packages/shared-utils/src/ease.ts</code>'s of source code</li> <li><code>{Object} extraTransform</code>, you only need to pass in this parameter if you want to modify some other properties of the CSS transform. The structure is as follows:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> extraTransform <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// start point</span>
  start<span class="token operator">:</span> <span class="token punctuation">{</span>
    scale<span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// end poinnt</span>
  end<span class="token operator">:</span> <span class="token punctuation">{</span>
    scale<span class="token operator">:</span> <span class="token number">1.1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
bs<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> extraTransform<span class="token punctuation">)</span>
</code></pre></div></li> <li><strong>Return</strong>: none.</li> <li><strong>Usage</strong>: scroll to specified position.</li></ul> <h3 id="scrollby-x-y-time-easing"><a href="#scrollby-x-y-time-easing" class="header-anchor">#</a> scrollBy(x, y, time, easing)</h3> <ul><li><strong>Arguments</strong>:
<ul><li><code>{number} x</code>, horizontal axis changed distance. (unit: px)</li> <li><code>{number} y</code>, vertical axis changed distance. (unit: px)</li> <li><code>{number} time</code>, animation duration. (unit: ms)</li> <li><code>{Object} easing function</code>, usually don't suggest modifying. If you really need to modify, please refer <code>packages/shared-utils/src/ease.ts</code>.</li></ul></li> <li><strong>Return</strong>: none.</li> <li><strong>Usage</strong>: scroll to specified position based on current position.</li></ul> <h3 id="scrolltoelement-el-time-offsetx-offsety-easing"><a href="#scrolltoelement-el-time-offsetx-offsety-easing" class="header-anchor">#</a> scrollToElement(el, time, offsetX, offsetY, easing)</h3> <ul><li><strong>Arguments</strong>:
<ul><li><code>{DOM | string} el</code>, target element. If the value is a string, we will try to use querySelector get the DOM element.</li> <li><code>{number} time</code>, animation duration. (unit ms)</li> <li><code>{number | boolean}</code> offsetX, the x offset to target element，If the value is true, scroll to the center of target element.</li> <li><code>{number | boolean}</code> offsetY, the y offset to target element，If the value is true, scroll to the center of target element.</li> <li><code>{Object} easing function</code>, usually don't suggest modifying. If you really need to modify, please refer <code>packages/shared-utils/src/ease.ts</code>.</li></ul></li> <li><strong>Return</strong>: none.</li> <li><strong>Usage</strong>: scroll to target element.</li></ul> <h3 id="stop"><a href="#stop" class="header-anchor">#</a> stop()</h3> <ul><li><strong>Arguments</strong>: none.</li> <li><strong>Return</strong>: none.</li> <li><strong>Usage</strong>: stop the scroll animation immediately.</li></ul> <h3 id="enable"><a href="#enable" class="header-anchor">#</a> enable()</h3> <ul><li><strong>Arguments</strong>: none.</li> <li><strong>Return</strong>: none.</li> <li><strong>Usage</strong>: enable BetterScroll. It's enabled by default.</li></ul> <h3 id="disable"><a href="#disable" class="header-anchor">#</a> disable()</h3> <ul><li><strong>Arguments</strong>: none.</li> <li><strong>Return</strong>: none.</li> <li><strong>Usage</strong>: disable BetterScroll. And it will make the callbacks of DOM events don't response.</li></ul> <h3 id="destroy"><a href="#destroy" class="header-anchor">#</a> destroy()</h3> <ul><li><strong>Arguments</strong>: none.</li> <li><strong>Return</strong>: none.</li> <li><strong>Usage</strong>: destroy BetterScroll，remove events and free some memory when the scroll is not needed anymore.</li></ul> <h3 id="on-type-fn-context"><a href="#on-type-fn-context" class="header-anchor">#</a> on(type, fn, context)</h3> <ul><li><strong>Arguments</strong>:
<ul><li><code>{string} type</code>, event</li> <li><code>{Function} fn</code>, callback</li> <li><code>{Object} context</code>,default is <code>this</code>.</li></ul></li> <li><strong>Return</strong>: none</li> <li><strong>Usage</strong>: listen for a hook on the current BScroll, such as &quot;scroll&quot;, &quot;scrollEnd&quot; and so on.</li> <li><strong>Example</strong>:</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@BetterScroll/core'</span>
<span class="token keyword">let</span> scroll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  probeType<span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">onScroll</span><span class="token punctuation">(</span><span class="token parameter">pos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Now position is x: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pos<span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, y: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pos<span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
scroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> onScroll<span class="token punctuation">)</span>
</code></pre></div><h3 id="once-type-fn-context"><a href="#once-type-fn-context" class="header-anchor">#</a> once(type, fn, context)</h3> <ul><li><strong>Arguments</strong>:
<ul><li><code>{string} type</code>, event</li> <li><code>{Function} fn</code>, callback</li> <li><code>{Object} context</code>, default is <code>this</code>.</li></ul></li> <li><strong>Return</strong>: none</li> <li><strong>Usage</strong>: listen for a custom event, but only once. The listener will be removed once it triggers for the first time.</li></ul> <h3 id="off-type-fn"><a href="#off-type-fn" class="header-anchor">#</a> off(type, fn)</h3> <ul><li><strong>Arguments</strong>:
<ul><li><code>{string} type</code>, event</li> <li><code>{Function} fn</code>, callback</li></ul></li> <li><strong>Return</strong>: none</li> <li><strong>Usage</strong>: remove custom event listener. Only remove the listener for that specific callback.</li> <li><strong>Example</strong>:</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@BetterScroll/core'</span>
<span class="token keyword">let</span> scroll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  probeType<span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bs is scrolling now'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
scroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span>

scroll<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span>
</code></pre></div><h2 id="events-vs-hooks"><a href="#events-vs-hooks" class="header-anchor">#</a> Events VS Hooks</h2> <p>Based on the 2.x architecture design and compatibility with 1.x events, we have extended two concepts-&quot;<strong>Events</strong>&quot; and &quot;<strong>Hooks</strong>&quot;. Basically, they are all instances of <code>EventEmitter</code>, but they are called differently. Let's explain it from the excerpted source code below:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code>  <span class="token keyword">export</span> <span class="token keyword">default</span> BScrollCore <span class="token keyword">extends</span> <span class="token class-name">EventEmitter</span> <span class="token punctuation">{</span>
    hooks<span class="token operator">:</span> EventEmitter
  <span class="token punctuation">}</span>
</code></pre></div><ul><li><p><strong>BScrollCore</strong></p> <p>It inherits EventEmitter itself. we all call it &quot;<strong>event</strong>&quot;.</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">let</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// listen bs scroll event</span>
  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// listen bs refresh event</span>
  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'refresh'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>BScrollCore.hooks</strong></p> <p>Hooks are also instances of EventEmitter. we all call it &quot;<strong>hook</strong>&quot;.</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">let</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// tap bs refresh hook</span>
  bs<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'refresh'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// tap bs enable hook</span>
  bs<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'enable'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul> <p>I believe everyone now has a better distinction between the two. &quot;<strong>Event</strong>&quot; is for the compatibility of 1.x. Users generally pay attention to the distribution of events, but if you want to write a plugin, you should focus on &quot;<strong>hooks</strong>&quot;.</p> <h2 id="events"><a href="#events" class="header-anchor">#</a> Events</h2> <p>In 2.0, BetterScroll events are almost same with 1.x events. Only BetterScroll will dispatch &quot;<strong>events</strong>&quot;. If you need to expose events when writing plugins, you should also dispatch them through BetterScroll. <a href="/docs/en-US/plugins/how-to-write.html">details is here</a>, the current events are divided into the following types:</p> <ul><li><p><strong>refresh</strong></p> <ul><li><strong>Trigger timing</strong>: BetterScroll recalculate</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BetterScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>

  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BetterScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'refresh'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>enable</strong></p> <ul><li><strong>Trigger timing</strong>: BetterScroll is enabled and starts to respond to user interaction</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'enable'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>disable</strong></p> <ul><li><strong>Trigger timing</strong>: BetterScroll is disabled and no longer responds to user interaction</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'disable'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>beforeScrollStart</strong></p> <ul><li><strong>Trigger timing</strong>: When the user's finger is placed on the scroll area</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'beforeScrollStart'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>scrollStart</strong></p> <ul><li><strong>Trigger timing</strong>: Content element meets the scrolling conditions and will start scrolling</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scrollStart'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>scroll</strong></p> <ul><li><strong>Trigger timing</strong>: It is scrolling</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span> position<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>scrollEnd</strong></p> <ul><li><strong>Trigger timing</strong>: End of scrolling, or force a content that is scrolling to stop</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scrollEnd'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>scrollCancel</strong></p> <ul><li><strong>Trigger timing</strong>: Scroll cancel</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scrollCancel'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>touchEnd</strong></p> <ul><li><strong>Trigger timing</strong>: User finger leaves the scroll area</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'touchEnd'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>flick</strong></p> <ul><li><strong>Trigger timing</strong>: User triggered flick operation</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'flick'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>destroy</strong></p> <ul><li><strong>Trigger timing</strong>: BetterScroll destroyed</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'destroy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>contentChanged</strong> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.0.4</span></p> <ul><li><strong>Trigger timing</strong>: When calling <code>bs.refresh()</code>, it is detected that the content DOM has become other elements</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code>  <span class="token comment">// bs version &gt;= 2.0.4</span>
  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'contentChanged'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>newContent<span class="token operator">:</span> HTMLElement<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul> <p>The following events must be registered for the <strong>plugin</strong> in parentheses to be dispatched:</p> <ul><li><p><strong>alterOptions(<strong>mouse-wheel</strong>)</strong></p> <ul><li><strong>Trigger timing</strong>: mouse-wheel scroll starts</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BetterScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">import</span> MouseWheel <span class="token keyword">from</span> <span class="token string">'@better-scroll/mouse-wheel'</span>

  BetterScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>MouseWheel<span class="token punctuation">)</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BetterScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    mouseWheel<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'alterOptions'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">mouseWheelOptions</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * mouseWheelOptions.speed
     * mouseWheelOptions.invert
     * mouseWheelOptions.easeTime
     * mouseWheelOptions.discreteTime
     * mouseWheelOptions.throttleTime
     * mouseWheelOptions.dampingFactor
     **/</span>

    <span class="token comment">// please see details in mouse-wheel plugin doc</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>mousewheelStart(<strong>mouse-wheel</strong>)</strong></p> <ul><li><strong>Trigger timing</strong>: mouse-wheel scroll starts</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BetterScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">import</span> MouseWheel <span class="token keyword">from</span> <span class="token string">'@better-scroll/mouse-wheel'</span>

  BetterScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>MouseWheel<span class="token punctuation">)</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BetterScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    mouseWheel<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mousewheelStart'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>mousewheelMove(<strong>mouse-wheel</strong>)</strong></p> <ul><li><strong>Trigger timing</strong>: mouse-wheel is scrolling</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mousewheelMove'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>mousewheelEnd(<strong>mouse-wheel</strong>)</strong></p> <ul><li><strong>Trigger timing</strong>: mouse-wheel scrollEnd</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mousewheelEnd'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>pullingDown(<strong>pull-down</strong>)</strong></p> <ul><li><strong>Trigger timing</strong>: When the top pull-down distance exceeds the threshold</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BetterScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">import</span> PullDown <span class="token keyword">from</span> <span class="token string">'@better-scroll/pull-down'</span>

  BetterScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>PullDown<span class="token punctuation">)</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BetterScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    pullDownRefresh<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'pullingDown'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    bs<span class="token punctuation">.</span><span class="token function">finishPullDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>pullingUp(<strong>pull-up</strong>)</strong></p> <ul><li><strong>Trigger timing</strong>: When the bottom pull-up distance exceeds the threshold</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BetterScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">import</span> PullUp <span class="token keyword">from</span> <span class="token string">'@better-scroll/pull-up'</span>

  BetterScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>PullUp<span class="token punctuation">)</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BetterScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    pullUpLoad<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'pullingUp'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    bs<span class="token punctuation">.</span><span class="token function">finishPullUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>slideWillChange(<strong>slide</strong>)</strong></p> <ul><li><strong>Trigger timing</strong>: The slide is about to switch page</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BetterScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">import</span> Slide <span class="token keyword">from</span> <span class="token string">'@better-scroll/slide'</span>

  BetterScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Slide<span class="token punctuation">)</span>

  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BetterScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    slide<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    momentum<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    bounce<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    probeType<span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'slideWillChange'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">page</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Page about to switch</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span> page<span class="token punctuation">.</span>pageY<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>beforeZoomStart(<strong>zoom</strong>)</strong></p> <ul><li><strong>Trigger timing</strong>: When two fingers touch the zoom element</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BetterScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">import</span> Zoom <span class="token keyword">from</span> <span class="token string">'@better-scroll/zoom'</span>

  BetterScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Zoom<span class="token punctuation">)</span>

  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BetterScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    zoom<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'beforeZoomStart'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>zoomStart(<strong>zoom</strong>)</strong></p> <ul><li><strong>Trigger timing</strong>: Two-finger zoom distance exceeds the minimum threshold</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'zoomStart'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>zooming(<strong>zoom</strong>)</strong></p> <ul><li><strong>Trigger timing</strong>: While the two-finger zoom behavior is in progress</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'zooming'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> scale <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// current scale</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>zoomEnd(<strong>zoom</strong>)</strong></p> <ul><li><strong>Trigger timing</strong>: After the two-finger zoom action ends</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'zoomEnd'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> scale <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul> <h2 id="hooks"><a href="#hooks" class="header-anchor">#</a> Hooks</h2> <p>A hook is a concept extended from version 2.0. Its essence is the same as an event. It is an instance of EventEmitter, which is a typical subscription publishing model. As the smallest scroll unit, BScrollCore also has many functional classes inside. Each functional class has a property called hooks, which bridges the communication between different classes. If you want to write a complex plugin, hooks must be mastered.</p> <ul><li><p><strong>BScrollCore.hooks</strong></p> <ul><li><p><strong>beforeInitialScrollTo</strong></p> <ul><li><strong>Trigger timing</strong>: After initial loading the plugin, you need to scroll to the specified position</li> <li><strong>Arguments</strong>: position object
<ul><li><code>{ x: number, y: number }</code></li></ul></li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  bs<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'beforeInitialScrollTo'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">postion</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    postion<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span>
    position<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">200</span> <span class="token comment">// Initialize scroll to -200</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>refresh</strong></p> <ul><li><strong>Trigger timing</strong>: Recalculate BetterScroll</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  bs<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'refresh'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'refreshed'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>enable</strong></p> <ul><li><strong>Trigger timing</strong>: Enable BetterScroll to respond to user behavior</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  bs<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'enable'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'enabled'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>disable</strong></p> <ul><li><strong>Trigger timing</strong>: Disable BetterScroll and no longer respond to user behavior</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  bs<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'disable'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'disabled'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>destroy</strong></p> <ul><li><strong>Trigger timing</strong>: Destroy BetterScroll</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  bs<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'destroy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'destroyed'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>contentChanged</strong> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>2.0.4</span></p> <ul><li><strong>Trigger timing</strong>：When calling <code>bs.refresh()</code>, it is detected that the content DOM has become other elements</li> <li><strong>Usage</strong></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// bs version &gt;= 2.0.4</span>
  bs<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'contentChanged'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>newContent<span class="token operator">:</span> HTMLElement<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newContent<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li> <li><p><strong>ActionsHandler.hooks</strong></p> <ul><li><p><strong>beforeStart</strong></p> <ul><li><strong>Trigger timing</strong>: Just respond to the touchstart event, but the position of the finger on the screen has not been recorded</li> <li><strong>Arguments</strong>: event object</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actionsHandler<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'beforeStart'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>start</strong></p> <ul><li><strong>Trigger timing</strong>: After recording the position of the finger on the screen, touchmove will be triggered</li> <li><strong>Arguments</strong>: event object</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actionsHandler<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>move</strong></p> <ul><li><strong>Trigger timing</strong>: Responding to the touchmove event, after recording the position of the finger on the screen</li> <li><strong>Arguments</strong>: Objects with the following properties
<ul><li><code>{ number } deltaX</code>: x offset</li> <li><code>{ number } deltaY</code>: y offset</li> <li><code>{ event } e</code>: event object</li></ul></li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actionsHandler<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'move'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> deltaX<span class="token punctuation">,</span> deltaY<span class="token punctuation">,</span> e <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>end</strong></p> <ul><li><strong>Trigger timing</strong>: Responding to touchend event</li> <li><strong>Arguments</strong>: event object</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actionsHandler<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>click</strong></p> <ul><li><strong>Trigger timing</strong>: Trigger the click event</li> <li><strong>Arguments</strong>: event object</li></ul></li></ul></li> <li><p><strong>ScrollerActions.hooks</strong></p> <ul><li><p><strong>start</strong></p> <ul><li><strong>Trigger timing</strong>: After recording all the scrolling initial information</li> <li><strong>Arguments</strong>: event object</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actions<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>beforeMove</strong></p> <ul><li><strong>Trigger timing</strong>: Before checking whether it is legal scrolling</li> <li><strong>Arguments</strong>: event object</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actions<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'beforeMove'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>scrollStart</strong></p> <ul><li><strong>Trigger timing</strong>: scroll is abount to start</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actions<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scrollStart'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>scroll</strong></p> <ul><li><strong>Trigger timing</strong>: It is scrolling</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actions<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>beforeEnd</strong></p> <ul><li><strong>Trigger timing</strong>: The touchend event callback has just been executed, but the final position has not been updated</li> <li><strong>Arguments</strong>: event object</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actions<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'beforeEnd'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>end</strong></p> <ul><li><strong>Trigger timing</strong>: Just execute the touchend event callback and update the scroll direction</li> <li><strong>Arguments</strong>: Two Arguments, the first is the event object, the second is the current position
<ul><li><code>{ event } e</code>: event object</li> <li><code>{ x: number, y: number } postion</code>: current position</li></ul></li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actions<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> postion</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>scrollEnd</strong></p> <ul><li><strong>Trigger timing</strong>: Scrolling is about to end, but you still need to verify whether a scrolling behavior triggers flick and momentum behaviors.</li> <li><strong>Arguments</strong>: Two Arguments, the first is the current position, the second is the animation duration
<ul><li><code>{ x: number, y: number } postion</code>: current position</li> <li><code>{ number } duration</code>: animation duration</li></ul></li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actions<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'beforeEnd'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">pos<span class="token punctuation">,</span> duration</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>coordinateTransformation</strong></p> <ul><li><strong>Trigger timing</strong>: After calculating the offset of the user's finger, before scrolling occurs</li> <li><strong>Arguments</strong>: transformateDeltaData object
<ul><li><code>{ deltaX: number, deltaY: number } transformateDeltaData</code></li></ul></li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    quadrant<span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// default value</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actions<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>
  <span class="token string">'coordinateTransformation'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">transformateDeltaData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// get user finger moved distance</span>
    <span class="token keyword">const</span> originDeltaX <span class="token operator">=</span> transformateDeltaData<span class="token punctuation">.</span>deltaX
    <span class="token keyword">const</span> originDeltaY <span class="token operator">=</span> transformateDeltaData<span class="token punctuation">.</span>deltaY

    <span class="token comment">// apply transformation</span>
    transformateDeltaData<span class="token punctuation">.</span>deltaX <span class="token operator">=</span> originDeltaY
    transformateDeltaData<span class="token punctuation">.</span>deltaY <span class="token operator">=</span> originDeltaX

    <span class="token comment">// transformateDeltaData.deltaX will be used as content DOM style's translateX</span>
    <span class="token comment">// transformateDeltaData.deltaY will be used as content DOM style's translateY</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre></div><p>This hook is usually to fix the logic of user-defined displacement transformation when the ancestor element of the wrapper DOM of BetterScroll is rotated. In most cases, it only needs to be configured <a href="/docs/en-US/guide/base-scroll-options.html#quadrant">quadrant</a>.</p></li></ul></li> <li><p><strong>Behavior.hooks</strong></p> <ul><li><p><strong>beforeComputeBoundary</strong></p> <ul><li><strong>Trigger timing</strong>: About to calculate the scroll boundary</li> <li><strong>Arguments</strong>: boundary object
<ul><li><code>{ minScrollPos: number, maxScrollPos: number } boundary</code></li></ul></li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>scrollBehaviorX<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'beforeComputeBoundary'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>computeBoundary</strong></p> <ul><li><strong>Trigger timing</strong>: Calculate the scroll boundary</li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>scrollBehaviorX<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'computeBoundary'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">boundary</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// The maximum value of the upper boundary, the more positive, the greater the pull down</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>boundary<span class="token punctuation">.</span>minScrollPos<span class="token punctuation">)</span>
    <span class="token comment">// The minimum value of the lower boundary, the more negative, the farther you roll</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>boundary<span class="token punctuation">.</span>maxScrollPos<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>momentum</strong></p> <ul><li><strong>Trigger timing</strong>: Meet the conditions for triggering momentum animation, and before calculating distance</li> <li><strong>Arguments</strong>: Two Arguments, the first is the momentumData object, the second is the scroll offset
<ul><li><code>{ destination: number, duration: number, rate: number} momentumData</code>: destination is the target position, duration is the easing time, rate is the slope</li> <li><code>{ number } distance</code>: Scroll offset to trigger momentum</li></ul></li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>scrollBehaviorX<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'momentum'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">momentumData<span class="token punctuation">,</span> distance</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>end</strong></p> <ul><li><strong>Trigger timing</strong>: Does not meet the conditions for triggering momentum animation</li> <li><strong>Arguments</strong>: momentumInfo object
<ul><li><code>{ destination: number, duration: number} momentumInfo</code>: destination is the target position, duration is the easing time</li></ul></li> <li><strong>Usage</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>scrollBehaviorX<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">momentumInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>momentumInfo<span class="token punctuation">.</span>destination<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>momentumInfo<span class="token punctuation">.</span>duration<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li> <li><p><strong>Animation.hooks(useTransition: false)</strong></p> <ul><li><p><strong>forceStop</strong></p> <ul><li><strong>Trigger timing</strong>: Force a scrolling bs to stop</li> <li><strong>Arguments</strong>: position object
<ul><li><code>{ x: number, y: number } position</code></li></ul></li></ul></li> <li><p><strong>move</strong></p> <ul><li><strong>Trigger timing</strong>: Scrolling</li> <li><strong>Arguments</strong>: position object
<ul><li><code>{ x: number, y: number } position</code></li></ul></li></ul></li> <li><p><strong>end</strong></p> <ul><li><strong>Trigger timing</strong>: Scroll ended</li> <li><strong>Arguments</strong>: position object
<ul><li><code>{ x: number, y: number } position</code></li></ul></li></ul></li></ul></li> <li><p><strong>Transition.hooks(useTransition: true)</strong></p> <ul><li><p><strong>forceStop</strong></p> <ul><li><strong>Trigger timing</strong>: Force a bs that is doing animation to stop</li> <li><strong>Arguments</strong>: position object
<ul><li><code>{ x: number, y: number } position</code></li></ul></li></ul></li> <li><p><strong>move</strong></p> <ul><li><strong>Trigger timing</strong>: Scrolling</li> <li><strong>Arguments</strong>: position object
<ul><li><code>{ x: number, y: number } position</code></li></ul></li></ul></li> <li><p><strong>end</strong></p> <ul><li><strong>Trigger timing</strong>: Scroll ended</li> <li><strong>Arguments</strong>:position object
<ul><li><code>{ x: number, y: number } position</code></li></ul></li></ul></li> <li><p><strong>time</strong></p> <ul><li><strong>Trigger timing</strong>: Before the CSS3 transition started, the wheel plugin listened to the hook</li> <li><strong>Arguments</strong>: CSS3 transition duration<div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>animater<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'time'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">duration</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span> <span class="token comment">// 800</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li> <li><p><strong>timeFunction</strong></p> <ul><li><strong>Trigger timing</strong>:  Before the CSS3 transition started, the wheel plugin listened to the hook</li> <li><strong>Arguments</strong>: CSS3 transition-timing-function<div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>animater<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'timeFunction'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">easing</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>easing<span class="token punctuation">)</span> <span class="token comment">// cubic-bezier(0.1, 0.7, 1.0, 0.1)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li></ul></li> <li><p><strong>Translater.hooks</strong></p> <ul><li><p><strong>beforeTranslate</strong></p> <ul><li><strong>Trigger timing</strong>: Before modifying the transform style of the content element, the zoom plugin listened to the hook</li> <li><strong>Arguments</strong>: The first is the transformStyle array, the second is the point object
<ul><li><code>{ ['translateX(0px)'|'translateY(0px)'] } transformStyle</code>: The property value corresponding to the current transform</li> <li><code>{ x: number, y: number } point</code>: x corresponds to the value of translateX, y corresponds to the value of translateY</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>translater<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'beforeTranslate'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">transformStyle<span class="token punctuation">,</span> point</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    transformStyle<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'scale(1.2)'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>transformStyle<span class="token punctuation">)</span> <span class="token comment">// ['translateX(0px)', 'translateY(0px)', 'scale(1.2)']</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span> <span class="token comment">// { x: 0, y: 0 }</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li> <li><p><strong>translate</strong></p> <ul><li><strong>Trigger timing</strong>: After modifying the transform style of the content element, the wheel plugin listened to the hook</li> <li><strong>Arguments</strong>: point object
<ul><li><code>{ x: number, y: number } point</code>: x corresponds to the value of translateX, y corresponds to the value of translateY</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>translater<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'translate'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">point</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span> <span class="token comment">// { x: 0, y: 0 }</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li></ul></li> <li><p><strong>Scroller.hooks</strong></p> <ul><li><p><strong>beforeStart</strong>
same with <code>ScrollerActions.hooks.start</code></p></li> <li><p><strong>beforeMove</strong>
same with <code>ScrollerActions.hooks.beforeMove</code></p></li> <li><p><strong>beforeScrollStart</strong>
same with <code>ScrollerActions.hooks.start</code></p></li> <li><p><strong>scrollStart</strong>
same with <code>ScrollerActions.hooks.scrollStart</code></p></li> <li><p><strong>scroll</strong></p> <ul><li><strong>Trigger timing</strong>: Scrolling</li> <li><strong>Arguments</strong>: position object
<ul><li><code>{ x: number, y: number } position</code></li></ul></li></ul></li> <li><p><strong>beforeEnd</strong>
same with <code>ScrollerActions.hooks.beforeEnd</code></p></li> <li><p><strong>touchEnd</strong></p> <ul><li><strong>Trigger timing</strong>: User finger leaves the scroll area</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'touchEnd'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'your finger has leave'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>end</strong></p> <ul><li><strong>Trigger timing</strong>: After touchEnd, it is triggered before verifying click. The pull-down plugin is implemented based on this hook</li> <li><strong>Arguments</strong>: position object</li> <li><code>{ x: number, y: number } position</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>scrollEnd</strong></p> <ul><li><strong>Trigger timing</strong>: Scroll ended</li> <li><strong>Arguments</strong>: position object
<ul><li><code>{ x: number, y: number } position</code></li></ul></li></ul></li> <li><p><strong>resize</strong></p> <ul><li><strong>Trigger timing</strong>: window size changed</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;window's size has changed&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>flick</strong></p> <ul><li><strong>Trigger timing</strong>: Finger flicking detected</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'flick'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>scrollCancel</strong></p> <ul><li><strong>Trigger timing</strong>: Scroll canceled or did not happen</li></ul></li> <li><p><strong>momentum</strong></p> <ul><li><strong>Trigger timing</strong>: Momentum displacement is about to begin, and the slide plugin listens to the hook</li> <li><strong>Arguments</strong>: scrollMetaData object
<ul><li><code>{ time: number, easing: EaseItem, newX: number, newY: number }</code>: time is the duration of the animation, easing is the easing function, newX and newY are the end points</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'momentum'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">scrollMetaData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    scrollMetaData<span class="token punctuation">.</span>newX <span class="token operator">=</span> <span class="token number">0</span>
    scrollMetaData<span class="token punctuation">.</span>newY <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">200</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>scrollTo</strong></p> <ul><li><strong>Trigger timing</strong>: Triggered when the bs.scrollTo method is called</li> <li><strong>Arguments</strong>: endPoint object
<ul><li><code>{ x: number, y: number } endPoint</code></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scrollTo'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">endPoint</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>endPoint<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>endPoint<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  bs<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>scrollToElement</strong></p> <ul><li><strong>Trigger timing</strong>: Triggered when the bs.scrollToElement method is called, and the wheel plugin listens to the hook</li> <li><strong>Arguments</strong>: The first is the target DOM object, the second is the coordinates of the end point
<ul><li><code>{ HTMLElment } el</code></li> <li><code>{ top: number, left: number } postion</code></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scrollToElement'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> pos</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pos<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pos<span class="token punctuation">.</span>top<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  bs<span class="token punctuation">.</span><span class="token function">scrollToElement</span><span class="token punctuation">(</span><span class="token string">'.some-item'</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>beforeRefresh</strong></p> <ul><li><strong>Trigger timing</strong>: Before behavior calculates the boundary, the slide plugin listens to the hook</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">const</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> bs<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>hooks
  hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'beforeRefresh'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you are careful, you will find that some Scroller.hooks have exactly the same functions as ScrollActions.hooks. In fact, we internally use a <a href="https://github.com/ustbhuangyi/better-scroll/blob/dev/packages/core/src/utils/bubbling.ts" target="_blank" rel="noopener noreferrer">hook bubbling<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> strategy to proxy the hooks of the inner function classes to the BetterScroll Instance in the form of bubbling to be compatible with the use of 1.x.</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ustbhuangyi/better-scroll/edit/dev/packages/vuepress-docs/docs/en-US/guide/base-scroll-api.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/19/2021, 8:15:26 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/en-US/guide/base-scroll-options.html" class="prev">
        Options
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.49c510b7.js" defer></script><script src="/docs/assets/js/6.78beaf32.js" defer></script><script src="/docs/assets/js/64.3ec18ae5.js" defer></script><script src="/docs/assets/js/41.bb3c0467.js" defer></script>
  </body>
</html>
