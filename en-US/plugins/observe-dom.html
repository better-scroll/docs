<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>observe-dom | BetterScroll 2.0</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="shortcut icon" href="/docs/assets/bs.ico" type="images/x-icon">
    <script src="https://www.googletagmanager.com/gtag/js?id=G-7E85TW7P27"></script>
    <script type="text/javascript">
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7E85TW7P27');
    </script>
    <meta name="description" content="Make Scroll Perfect">
    <link rel="preload" href="/docs/assets/css/0.styles.28c79ca2.css" as="style"><link rel="preload" href="/docs/assets/js/app.4fa86990.js" as="script"><link rel="preload" href="/docs/assets/js/5.79187dd2.js" as="script"><link rel="preload" href="/docs/assets/js/63.566009c3.js" as="script"><link rel="preload" href="/docs/assets/js/7.763573d0.js" as="script"><link rel="prefetch" href="/docs/assets/js/1.133a3e85.js"><link rel="prefetch" href="/docs/assets/js/10.4b604353.js"><link rel="prefetch" href="/docs/assets/js/11.a8347f56.js"><link rel="prefetch" href="/docs/assets/js/12.416c7b34.js"><link rel="prefetch" href="/docs/assets/js/13.11494c33.js"><link rel="prefetch" href="/docs/assets/js/14.250a50ff.js"><link rel="prefetch" href="/docs/assets/js/15.6874ed2d.js"><link rel="prefetch" href="/docs/assets/js/16.637168db.js"><link rel="prefetch" href="/docs/assets/js/17.efd1c336.js"><link rel="prefetch" href="/docs/assets/js/18.ac9cbf9d.js"><link rel="prefetch" href="/docs/assets/js/19.b8d0dd7c.js"><link rel="prefetch" href="/docs/assets/js/2.5aa3b423.js"><link rel="prefetch" href="/docs/assets/js/20.cca655bb.js"><link rel="prefetch" href="/docs/assets/js/21.c26270fc.js"><link rel="prefetch" href="/docs/assets/js/22.191d60c6.js"><link rel="prefetch" href="/docs/assets/js/23.a6cf2352.js"><link rel="prefetch" href="/docs/assets/js/24.ad3c053d.js"><link rel="prefetch" href="/docs/assets/js/25.1cc63848.js"><link rel="prefetch" href="/docs/assets/js/26.86af935a.js"><link rel="prefetch" href="/docs/assets/js/27.2e43a2c6.js"><link rel="prefetch" href="/docs/assets/js/28.13bff9cb.js"><link rel="prefetch" href="/docs/assets/js/29.36f66a33.js"><link rel="prefetch" href="/docs/assets/js/30.88f2d4c5.js"><link rel="prefetch" href="/docs/assets/js/31.1c0465c2.js"><link rel="prefetch" href="/docs/assets/js/32.e0559856.js"><link rel="prefetch" href="/docs/assets/js/33.aa363ecb.js"><link rel="prefetch" href="/docs/assets/js/34.b6eb15b1.js"><link rel="prefetch" href="/docs/assets/js/35.928b05cb.js"><link rel="prefetch" href="/docs/assets/js/36.b2d6a2f8.js"><link rel="prefetch" href="/docs/assets/js/37.4b78bc11.js"><link rel="prefetch" href="/docs/assets/js/38.30585347.js"><link rel="prefetch" href="/docs/assets/js/39.aa0b8237.js"><link rel="prefetch" href="/docs/assets/js/4.90a309e3.js"><link rel="prefetch" href="/docs/assets/js/40.cc4f6014.js"><link rel="prefetch" href="/docs/assets/js/41.0e5e4d27.js"><link rel="prefetch" href="/docs/assets/js/42.7c63ac94.js"><link rel="prefetch" href="/docs/assets/js/43.139e4bb4.js"><link rel="prefetch" href="/docs/assets/js/44.44171da2.js"><link rel="prefetch" href="/docs/assets/js/45.4f06efe5.js"><link rel="prefetch" href="/docs/assets/js/46.d89852cd.js"><link rel="prefetch" href="/docs/assets/js/47.c0b83cae.js"><link rel="prefetch" href="/docs/assets/js/48.d4db0bfc.js"><link rel="prefetch" href="/docs/assets/js/49.eba57605.js"><link rel="prefetch" href="/docs/assets/js/50.8809b82b.js"><link rel="prefetch" href="/docs/assets/js/51.09615561.js"><link rel="prefetch" href="/docs/assets/js/52.dce1bead.js"><link rel="prefetch" href="/docs/assets/js/53.952a8818.js"><link rel="prefetch" href="/docs/assets/js/54.a7ffda70.js"><link rel="prefetch" href="/docs/assets/js/55.906caeae.js"><link rel="prefetch" href="/docs/assets/js/56.19799c1e.js"><link rel="prefetch" href="/docs/assets/js/57.96324fe0.js"><link rel="prefetch" href="/docs/assets/js/58.34495ec4.js"><link rel="prefetch" href="/docs/assets/js/59.b8fbf4e5.js"><link rel="prefetch" href="/docs/assets/js/6.17ddb1ba.js"><link rel="prefetch" href="/docs/assets/js/60.a546e9c7.js"><link rel="prefetch" href="/docs/assets/js/61.cbda03d6.js"><link rel="prefetch" href="/docs/assets/js/62.cef1546f.js"><link rel="prefetch" href="/docs/assets/js/64.9487b32d.js"><link rel="prefetch" href="/docs/assets/js/65.63083125.js"><link rel="prefetch" href="/docs/assets/js/66.603c2682.js"><link rel="prefetch" href="/docs/assets/js/67.c0292bba.js"><link rel="prefetch" href="/docs/assets/js/68.82cf49be.js"><link rel="prefetch" href="/docs/assets/js/69.fba3c51c.js"><link rel="prefetch" href="/docs/assets/js/70.f488dd8c.js"><link rel="prefetch" href="/docs/assets/js/71.74e8f6c2.js"><link rel="prefetch" href="/docs/assets/js/72.5eb1e3e2.js"><link rel="prefetch" href="/docs/assets/js/73.9b9c235f.js"><link rel="prefetch" href="/docs/assets/js/74.1dcb1d68.js"><link rel="prefetch" href="/docs/assets/js/75.f8bcec38.js"><link rel="prefetch" href="/docs/assets/js/76.76b6d4ed.js"><link rel="prefetch" href="/docs/assets/js/77.463d375e.js"><link rel="prefetch" href="/docs/assets/js/78.4c53e335.js"><link rel="prefetch" href="/docs/assets/js/79.9d51d3fb.js"><link rel="prefetch" href="/docs/assets/js/8.4046020e.js"><link rel="prefetch" href="/docs/assets/js/80.76fd7d67.js"><link rel="prefetch" href="/docs/assets/js/81.6c9c34d7.js"><link rel="prefetch" href="/docs/assets/js/82.b7d126dd.js"><link rel="prefetch" href="/docs/assets/js/83.1deaf335.js"><link rel="prefetch" href="/docs/assets/js/84.eb82e412.js"><link rel="prefetch" href="/docs/assets/js/85.ef2c5d96.js"><link rel="prefetch" href="/docs/assets/js/86.d42ddb23.js"><link rel="prefetch" href="/docs/assets/js/87.58a9fdb5.js"><link rel="prefetch" href="/docs/assets/js/88.567910ce.js"><link rel="prefetch" href="/docs/assets/js/89.1d4e6702.js"><link rel="prefetch" href="/docs/assets/js/9.fffd94bd.js"><link rel="prefetch" href="/docs/assets/js/90.df3ae493.js"><link rel="prefetch" href="/docs/assets/js/91.3c313594.js"><link rel="prefetch" href="/docs/assets/js/92.69266f8f.js"><link rel="prefetch" href="/docs/assets/js/93.eed2f2ef.js"><link rel="prefetch" href="/docs/assets/js/94.5e61bef5.js"><link rel="prefetch" href="/docs/assets/js/95.0340f7b3.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.28c79ca2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/en-US/" class="home-link router-link-active"><!----> <span class="site-name">BetterScroll 2.0</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/en-US/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/docs/en-US/plugins/" class="nav-link router-link-active">
  Plugin
</a></div><div class="nav-item"><a href="/docs/en-US/FAQ/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="https://github.com/ustbhuangyi/better-scroll" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/ustbhuangyi/better-scroll/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discuss
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/en-US/plugins/observe-dom.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/docs/zh-CN/plugins/observe-dom.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/en-US/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/docs/en-US/plugins/" class="nav-link router-link-active">
  Plugin
</a></div><div class="nav-item"><a href="/docs/en-US/FAQ/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="https://github.com/ustbhuangyi/better-scroll" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/ustbhuangyi/better-scroll/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discuss
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/en-US/plugins/observe-dom.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/docs/zh-CN/plugins/observe-dom.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Plugins Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en-US/plugins/" aria-current="page" class="sidebar-link">plugins</a></li><li><a href="/docs/en-US/plugins/how-to-write.html" class="sidebar-link">How to write plugins</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Plugins</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en-US/plugins/mouse-wheel.html" class="sidebar-link">mouse-wheel</a></li><li><a href="/docs/en-US/plugins/observe-dom.html" aria-current="page" class="active sidebar-link">observe-dom</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/en-US/plugins/observe-dom.html#install" class="sidebar-link">Install</a></li><li class="sidebar-sub-header"><a href="/docs/en-US/plugins/observe-dom.html#usage" class="sidebar-link">Usage</a></li><li class="sidebar-sub-header"><a href="/docs/en-US/plugins/observe-dom.html#demo" class="sidebar-link">Demo</a></li></ul></li><li><a href="/docs/en-US/plugins/observe-image.html" class="sidebar-link">observe-image</a></li><li><a href="/docs/en-US/plugins/pulldown.html" class="sidebar-link">pulldown</a></li><li><a href="/docs/en-US/plugins/pullup.html" class="sidebar-link">pullup</a></li><li><a href="/docs/en-US/plugins/scroll-bar.html" class="sidebar-link">scrollbar</a></li><li><a href="/docs/en-US/plugins/slide.html" class="sidebar-link">slide</a></li><li><a href="/docs/en-US/plugins/wheel.html" class="sidebar-link">wheel</a></li><li><a href="/docs/en-US/plugins/zoom.html" class="sidebar-link">zoom</a></li><li><a href="/docs/en-US/plugins/nested-scroll.html" class="sidebar-link">nested-scroll</a></li><li><a href="/docs/en-US/plugins/infinity.html" class="sidebar-link">infinity</a></li><li><a href="/docs/en-US/plugins/movable.html" class="sidebar-link">movable</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="observe-dom"><a href="#observe-dom" class="header-anchor">#</a> observe-dom</h1> <p>Enable detection of content and content child DOM changes. When the plugin is used and these DOM elements change, <code>bs.refresh()</code> will be triggered. The observe-dom plugin has the following features:</p> <ul><li>Debounce feature for CSS attributions which change frequently</li> <li>If the scroll elements change occurs during the scroll animation, refresh will not be triggered.</li></ul> <h2 id="install"><a href="#install" class="header-anchor">#</a> Install</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @better-scroll/observe-dom --save

// or

<span class="token function">yarn</span> <span class="token function">add</span> @better-scroll/observe-dom
</code></pre></div><h2 id="usage"><a href="#usage" class="header-anchor">#</a> Usage</h2> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">import</span> ObserveDOM <span class="token keyword">from</span> <span class="token string">'@better-scroll/observe-dom'</span>
  BScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ObserveDOM<span class="token punctuation">)</span>

  <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token string">'.bs-wrapper'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    observeDOM<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// init observe-dom plugin</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="demo"><a href="#demo" class="header-anchor">#</a> Demo</h2> <div class="demo-wrap"><div class="demo-nav"><i class="demo-nav-btn icon-code"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#000"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg></i> <div class="v-popover"><div aria-describedby="popover_ydi3ft1obp" class="trigger" style="display:inline-block;"><i class="demo-nav-btn icon-qrcode"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#666"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg></i> </div> <div id="popover_ydi3ft1obp" aria-hidden="true" tabindex="0" class="tooltip popover vue-popover-theme" style="visibility:hidden;"><div class="wrapper"><div class="tooltip-inner popover-inner" style="position:relative;"><div><div></div></div> <div tabindex="-1" class="resize-observer" data-v-b329ee4c></div></div> <div class="tooltip-arrow popover-arrow"></div></div></div></div> <i class="demo-nav-btn icon-preview"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#666"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></i></div> <div class="demo-code" style="display:;"><div class="demo-code-nav"><button class="demo-code-btn active">Template</button><button class="demo-code-btn">Script</button><button class="demo-code-btn">Style</button></div> <div class="demo-code-content"><div class="demo-code-item" style="display:;"><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>observe-dom-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scroll-wrapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scroll<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scroll-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scroll-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>num in nums<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>num<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{nums - num + 1}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>append two children element<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></code></pre></div></div><div class="demo-code-item" style="display:none;"><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>
  <span class="token keyword">import</span> ObserveDOM <span class="token keyword">from</span> <span class="token string">'@better-scroll/observe-dom'</span>

  BScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ObserveDOM<span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        nums<span class="token operator">:</span> <span class="token number">10</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>bs<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>scroll<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          observeDOM<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          scrollX<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          scrollY<span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// observe-dom plugin will refresh bs</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>nums <span class="token operator">+=</span> <span class="token number">2</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre></div></div><div class="demo-code-item" style="display:none;"><div class="language-styl extra-class"><pre class="language-styl"><code>&lt;style lang=<span class="token string">&quot;stylus&quot;</span> rel=<span class="token string">&quot;stylesheet/stylus&quot;</span> scoped&gt;

<span class="token selector">.observe-dom-container</span>
  <span class="token property-declaration"><span class="token property">text-align</span> center</span>
  <span class="token selector">.scroll-wrapper</span>
    <span class="token property-declaration"><span class="token property">width</span> <span class="token number">90</span><span class="token unit">%</span></span>
    <span class="token property-declaration"><span class="token property">margin</span> <span class="token number">80</span><span class="token unit">px</span> auto</span>
    <span class="token property-declaration"><span class="token property">white-space</span> nowrap</span>
    <span class="token property-declaration"><span class="token property">border</span> <span class="token number">3</span><span class="token unit">px</span> solid <span class="token hexcode">#42b983</span></span>
    <span class="token property-declaration"><span class="token property">border-radius</span> <span class="token number">5</span><span class="token unit">px</span></span>
    <span class="token property-declaration"><span class="token property">overflow</span> hidden</span>
    <span class="token selector">.scroll-content</span>
      <span class="token property-declaration"><span class="token property">display</span> inline-block</span>
      <span class="token selector">.scroll-item</span>
        <span class="token property-declaration"><span class="token property">height</span> <span class="token number">50</span><span class="token unit">px</span></span>
        <span class="token property-declaration"><span class="token property">line-height</span> <span class="token number">50</span><span class="token unit">px</span></span>
        <span class="token property-declaration"><span class="token property">font-size</span> <span class="token number">24</span><span class="token unit">px</span></span>
        <span class="token property-declaration"><span class="token property">display</span> inline-block</span>
        <span class="token property-declaration"><span class="token property">text-align</span> center</span>
        <span class="token property-declaration"><span class="token property">padding</span> <span class="token number">0</span> <span class="token number">20</span><span class="token unit">px</span></span>
        <span class="token selector">&amp;:nth-child(2n)</span>
          <span class="token property-declaration"><span class="token property">background-color</span> <span class="token hexcode">#C3D899</span></span>
        <span class="token selector">&amp;:nth-child(2n+1)</span>
          <span class="token property-declaration"><span class="token property">background-color</span> <span class="token hexcode">#F2D4A7</span></span>
	<span class="token selector">.btn</span>
		<span class="token property-declaration"><span class="token property">margin</span> <span class="token number">40</span><span class="token unit">px</span> auto</span>
		<span class="token property-declaration"><span class="token property">padding</span> <span class="token number">10</span><span class="token unit">px</span></span>
		<span class="token property-declaration"><span class="token property">color</span> <span class="token hexcode">#fff</span></span>
		<span class="token property-declaration"><span class="token property">border-radius</span> <span class="token number">4</span><span class="token unit">px</span></span>
		<span class="token property-declaration"><span class="token property">font-size</span> <span class="token number">20</span><span class="token unit">px</span></span>
		<span class="token property-declaration"><span class="token property">background-color</span> <span class="token hexcode">#666</span>   			</span>
&lt;/style&gt;</code></pre></div></div> <i class="demo-code-content-copy"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#ccc"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></i> <!----></div></div> <div class="demo-main"><div class="demo-component-wrap"></div></div></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>For version &lt;= <code>2.0.6</code>, because the internal implementation of the plugin uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver" target="_blank" rel="noopener noreferrer">MutationObserver<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, it cannot detect whether the load of the img tag is complete, so for images with uncertain heights inside the content, you need to wait for the image to load before calling <code>bs.refresh()</code> to recalculate the scrollable size. If the browser does not support MutationObserver, the fallback inside the plugin is to recalculate the scrollable size every second.</p></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>In the v2.1.0 version, the <a href="./observe-image">observe-image</a> plugin is added to detect the loading of the img tag, so the two can be combined to complement the <strong>autorefresh</strong> ability to update BetterScroll every time.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/en-US/plugins/mouse-wheel.html" class="prev">
        mouse-wheel
      </a></span> <span class="next"><a href="/docs/en-US/plugins/observe-image.html">
        observe-image
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.4fa86990.js" defer></script><script src="/docs/assets/js/5.79187dd2.js" defer></script><script src="/docs/assets/js/63.566009c3.js" defer></script><script src="/docs/assets/js/7.763573d0.js" defer></script>
  </body>
</html>
